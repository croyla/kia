var Us=Object.defineProperty;var Cs=(e,t,n)=>t in e?Us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ps=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var nt=(e,t,n)=>(Cs(e,typeof t!="symbol"?t+"":t,n),n);import{r as E,m as gt,M as $s,S as et,l as M,_ as K,B as Ee,g as Pn,a as xs,b as $n,c as Gs,d as Ms,u as Dt,e as ct,f as Ys,R as l,A as kr,t as St,h as ye,i as Or,j as Ar,k as xn,n as Fs,T as Xe,H as Gn,o as Et,p as st,q as Hs,s as _e,v as Lr,w as Mn,x as js,L as qs,y as se,z as Yn,G as Ks}from"./index-0563542f.js";import{w as ht,T as L,S as Ws,i as zs}from"./i18n-cdada06c.js";var Xu=Ps((rd,pt)=>{function Vs(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function Xs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Js=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n},Zs=Xs(Js);const Fn="__googleMapsScriptId";var Lt;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Lt||(Lt={}));class Nt{constructor({apiKey:t,authReferrerPolicy:n,channel:r,client:s,id:i=Fn,language:a,libraries:o=[],mapIds:c,nonce:u,region:d,retries:f=3,url:_="https://maps.googleapis.com/maps/api/js",version:h}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=r,this.client=s,this.id=i||Fn,this.language=a,this.libraries=o,this.mapIds=c,this.nonce=u,this.region=d,this.retries=f,this.url=_,this.version=h,Nt.instance){if(!Zs(this.options,Nt.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Nt.instance.options)}`);return Nt.instance}Nt.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Lt.FAILURE:this.done?Lt.SUCCESS:this.loading?Lt.LOADING:Lt.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(r=>{r?n(r.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,n;if(document.getElementById(this.id)){this.callback();return}const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||n===void 0)&&n.importLibrary||(i=>{let a,o,c,u="The Google Maps JavaScript API",d="google",f="importLibrary",_="__ib__",h=document,g=window;g=g[d]||(g[d]={});const y=g.maps||(g.maps={}),S=new Set,m=new URLSearchParams,T=()=>a||(a=new Promise((b,k)=>Vs(this,void 0,void 0,function*(){var R;yield o=h.createElement("script"),o.id=this.id,m.set("libraries",[...S]+"");for(c in i)m.set(c.replace(/[A-Z]/g,W=>"_"+W[0].toLowerCase()),i[c]);m.set("callback",d+".maps."+_),o.src=this.url+"?"+m,y[_]=b,o.onerror=()=>a=k(Error(u+" could not load.")),o.nonce=this.nonce||((R=h.querySelector("script[nonce]"))===null||R===void 0?void 0:R.nonce)||"",h.head.append(o)})));y[f]?console.warn(u+" only loads once. Ignoring:",i):y[f]=(b,...k)=>S.add(b)&&T().then(()=>y[f](b,...k))})(r);const s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{const a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const Br=Object.prototype.toString;function mn(e){switch(Br.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _t(e,Error)}}function Yt(e,t){return Br.call(e)===`[object ${t}]`}function gn(e){return Yt(e,"ErrorEvent")}function Hn(e){return Yt(e,"DOMError")}function Qs(e){return Yt(e,"DOMException")}function vt(e){return Yt(e,"String")}function Ur(e){return e===null||typeof e!="object"&&typeof e!="function"}function Ct(e){return Yt(e,"Object")}function Ie(e){return typeof Event<"u"&&_t(e,Event)}function ti(e){return typeof Element<"u"&&_t(e,Element)}function ei(e){return Yt(e,"RegExp")}function En(e){return!!(e&&e.then&&typeof e.then=="function")}function ni(e){return Ct(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Cr(e){return typeof e=="number"&&e!==e}function _t(e,t){try{return e instanceof t}catch{return!1}}function Ut(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function jn(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function ri(e,t,n=!1){return vt(e)?ei(t)?t.test(e):vt(t)?n?e===t:e.includes(t):!1:!1}function Zt(e,t=[],n=!1){return t.some(r=>ri(e,r,n))}function si(e,t,n=250,r,s,i,a){if(!i.exception||!i.exception.values||!a||!_t(a.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=ii(Je(e,t,s,a.originalException,r,i.exception.values,o,0),n))}function Je(e,t,n,r,s,i,a,o){if(i.length>=n+1)return i;let c=[...i];if(_t(r[s],Error)){qn(a,o);const u=e(t,r[s]),d=c.length;Kn(u,s,d,o),c=Je(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(_t(u,Error)){qn(a,o);const f=e(t,u),_=c.length;Kn(f,`errors[${d}]`,_,o),c=Je(e,t,n,u,s,[f,...c],f,_)}}),c}function qn(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function Kn(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function ii(e,t){return e.map(n=>(n.value&&(n.value=Ut(n.value,t)),n))}function ie(e){return e&&e.Math==Math?e:void 0}const P=typeof globalThis=="object"&&ie(globalThis)||typeof window=="object"&&ie(window)||typeof self=="object"&&ie(self)||typeof global=="object"&&ie(global)||function(){return this}()||{};function Qt(){return P}function Pr(e,t,n){const r=n||P,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const he=Qt(),ai=80;function Pt(e,t={}){try{let n=e;const r=5,s=[];let i=0,a=0;const o=" > ",c=o.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||ai;for(;n&&i++<r&&(u=oi(n,d),!(u==="html"||i>1&&a+s.length*c+u.length>=f));)s.push(u),a+=u.length,n=n.parentNode;return s.reverse().join(o)}catch{return"<unknown>"}}function oi(e,t){const n=e,r=[];let s,i,a,o,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(f=>n.getAttribute(f)).map(f=>[f,n.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{r.push(`[${f[0]}="${f[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&vt(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)a=d[c],o=n.getAttribute(a),o&&r.push(`[${a}="${o}"]`);return r.join("")}function ci(){try{return he.document.location.href}catch{return""}}function ui(e){return he.document&&he.document.querySelector?he.document.querySelector(e):null}const di="Sentry Logger ",Ze=["debug","info","warn","error","log","assert","trace"],Se={};function $r(e){if(!("console"in P))return e();const t=P.console,n={},r=Object.keys(Se);r.forEach(s=>{const i=Se[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function li(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Ze.forEach(n=>{t[n]=(...r)=>{e&&$r(()=>{P.console[n](`${di}[${n}]:`,...r)})}}):Ze.forEach(n=>{t[n]=()=>{}}),t}const p=li(),fi=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function pi(e){return e==="http"||e==="https"}function te(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:a,protocol:o,publicKey:c}=e;return`${o}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${a}`}function _i(e){const t=fi.exec(e);if(!t){console.error(`Invalid Sentry Dsn: ${e}`);return}const[n,r,s="",i,a="",o]=t.slice(1);let c="",u=o;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return xr({host:i,pass:s,path:c,projectId:u,port:a,protocol:n,publicKey:r})}function xr(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function hi(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(p.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?pi(r)?t&&isNaN(parseInt(t,10))?(p.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(p.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(p.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Gr(e){const t=typeof e=="string"?_i(e):xr(e);if(!(!t||!hi(t)))return t}class rt extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function H(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);if(typeof s=="function")try{Mr(s,r)}catch{}e[t]=s}function yn(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function Mr(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,yn(e,"__sentry_original__",t)}function Sn(e){return e.__sentry_original__}function mi(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Yr(e){if(mn(e))return{message:e.message,name:e.name,stack:e.stack,...zn(e)};if(Ie(e)){const t={type:e.type,target:Wn(e.target),currentTarget:Wn(e.currentTarget),...zn(e)};return typeof CustomEvent<"u"&&_t(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Wn(e){try{return ti(e)?Pt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function zn(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function gi(e,t=40){const n=Object.keys(Yr(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Ut(n[0],t);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>t))return r===n.length?s:Ut(s,t)}return""}function bt(e){return Qe(e,new Map)}function Qe(e,t){if(Ct(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=Qe(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Qe(s,t))}),r}return e}const Fr=50,Vn=/\(error: (.*)\)/,Xn=/captureMessage|captureException/;function Hr(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let a=r;a<i.length;a++){const o=i[a];if(o.length>1024)continue;const c=Vn.test(o)?o.replace(Vn,"$1"):o;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=Fr)break}}return yi(s)}}function Ei(e){return Array.isArray(e)?Hr(...e):e}function yi(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Xn.test(t[t.length-1].function||"")&&(t.pop(),Xn.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Fr).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const He="<anonymous>";function Rt(e){try{return!e||typeof e!="function"?He:e.name||He}catch{return He}}const tn=Qt();function jr(){if(!("fetch"in tn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function en(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Si(){if(!jr())return!1;if(en(tn.fetch))return!0;let e=!1;const t=tn.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=en(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const ae=Qt();function Ti(){const e=ae.chrome,t=e&&e.app&&e.app.runtime,n="history"in ae&&!!ae.history.pushState&&!!ae.history.replaceState;return!t&&n}const Y=Qt(),Bt="__sentry_xhr_v2__",Kt={},Jn={};function bi(e){if(!Jn[e])switch(Jn[e]=!0,e){case"console":vi();break;case"dom":Ai();break;case"xhr":Ni();break;case"fetch":Ri();break;case"history":Di();break;case"error":Li();break;case"unhandledrejection":Bi();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("unknown instrumentation type:",e);return}}function J(e,t){Kt[e]=Kt[e]||[],Kt[e].push(t),bi(e)}function it(e,t){if(!(!e||!Kt[e]))for(const n of Kt[e]||[])try{n(t)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Rt(n)}
Error:`,r)}}function vi(){"console"in P&&Ze.forEach(function(e){e in P.console&&H(P.console,e,function(t){return Se[e]=t,function(...n){it("console",{args:n,level:e});const r=Se[e];r&&r.apply(P.console,n)}})})}function Ri(){Si()&&H(P,"fetch",function(e){return function(...t){const{method:n,url:r}=Ii(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return it("fetch",{...s}),e.apply(P,t).then(i=>(it("fetch",{...s,endTimestamp:Date.now(),response:i}),i),i=>{throw it("fetch",{...s,endTimestamp:Date.now(),error:i}),i})}})}function nn(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Zn(e){return typeof e=="string"?e:e?nn(e,"url")?e.url:e.toString?e.toString():"":""}function Ii(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Zn(n),method:nn(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Zn(t),method:nn(t,"method")?String(t.method).toUpperCase():"GET"}}function Ni(){if(!Y.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;H(e,"open",function(t){return function(...n){const r=n[1],s=this[Bt]={method:vt(n[0])?n[0].toUpperCase():n[0],url:n[1],request_headers:{}};vt(r)&&s.method==="POST"&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const a=this[Bt];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}it("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?H(this,"onreadystatechange",function(a){return function(...o){return i(),a.apply(this,o)}}):this.addEventListener("readystatechange",i),H(this,"setRequestHeader",function(a){return function(...o){const[c,u]=o,d=this[Bt];return d&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,o)}}),t.apply(this,n)}}),H(e,"send",function(t){return function(...n){const r=this[Bt];return r&&n[0]!==void 0&&(r.body=n[0]),it("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}let oe;function Di(){if(!Ti())return;const e=Y.onpopstate;Y.onpopstate=function(...n){const r=Y.location.href,s=oe;if(oe=r,it("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=oe,a=String(s);oe=a,it("history",{from:i,to:a})}return n.apply(this,r)}}H(Y.history,"pushState",t),H(Y.history,"replaceState",t)}const wi=1e3;let ce,ue;function ki(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function Oi(e){if(e.type!=="keypress")return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Qn(e,t=!1){return n=>{if(!n||ue===n||Oi(n))return;const r=n.type==="keypress"?"input":n.type;ce===void 0?(e({event:n,name:r,global:t}),ue=n):ki(ue,n)&&(e({event:n,name:r,global:t}),ue=n),clearTimeout(ce),ce=Y.setTimeout(()=>{ce=void 0},wi)}}function Ai(){if(!Y.document)return;const e=it.bind(null,"dom"),t=Qn(e,!0);Y.document.addEventListener("click",t,!1),Y.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Y[n]&&Y[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(H(r,"addEventListener",function(s){return function(i,a,o){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){const f=Qn(e);d.handler=f,s.call(this,i,f,o)}d.refCount++}catch{}return s.call(this,i,a,o)}}),H(r,"removeEventListener",function(s){return function(i,a,o){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(s.call(this,i,d.handler,o),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,a,o)}}))})}let de=null;function Li(){de=Y.onerror,Y.onerror=function(e,t,n,r,s){return it("error",{column:r,error:s,line:n,msg:e,url:t}),de&&!de.__SENTRY_LOADER__?de.apply(this,arguments):!1},Y.onerror.__SENTRY_INSTRUMENTED__=!0}let le=null;function Bi(){le=Y.onunhandledrejection,Y.onunhandledrejection=function(e){return it("unhandledrejection",e),le&&!le.__SENTRY_LOADER__?le.apply(this,arguments):!0},Y.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ui(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function z(){const e=P,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function qr(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function yt(e){const{message:t,event_id:n}=e;if(t)return t;const r=qr(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function rn(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function $t(e,t){const n=qr(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}function tr(e){if(e&&e.__sentry_captured__)return!0;try{yn(e,"__sentry_captured__",!0)}catch{}return!1}function Kr(e){return Array.isArray(e)?e:[e]}function Ci(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Pi(){return"npm"}function Wr(){return!Ci()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Tt(e,t){return e.require(t)}function $i(e){let t;try{t=Tt(pt,e)}catch{}try{const{cwd:n}=Tt(pt,"process");t=Tt(pt,`${n()}/node_modules/${e}`)}catch{}return t}function mt(e,t=100,n=1/0){try{return sn("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function zr(e,t=3,n=100*1024){const r=mt(e,t);return Yi(r)>n?zr(e,t-1,n):r}function sn(e,t,n=1/0,r=1/0,s=Ui()){const[i,a]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!Cr(t))return t;const o=xi(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return o.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const h=u.toJSON();return sn("",h,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const _=Yr(t);for(const h in _){if(!Object.prototype.hasOwnProperty.call(_,h))continue;if(f>=r){d[h]="[MaxProperties ~]";break}const g=_[h];d[h]=sn(h,g,c-1,r,s),f++}return a(t),d}function xi(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(ni(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Rt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Gi(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Gi(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Mi(e){return~-encodeURI(e).split(/%..|./).length}function Yi(e){return Mi(JSON.stringify(e))}var ft;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ft||(ft={}));function kt(e){return new X(t=>{t(e)})}function Te(e){return new X((t,n)=>{n(e)})}class X{constructor(t){X.prototype.__init.call(this),X.prototype.__init2.call(this),X.prototype.__init3.call(this),X.prototype.__init4.call(this),this._state=ft.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new X((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(a){s(a)}},i=>{if(!n)s(i);else try{r(n(i))}catch(a){s(a)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new X((n,r)=>{let s,i;return this.then(a=>{i=!1,s=a,t&&t()},a=>{i=!0,s=a,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(ft.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ft.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ft.PENDING){if(En(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ft.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ft.RESOLVED&&n[1](this._value),this._state===ft.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Fi(e){const t=[];function n(){return e===void 0||t.length<e}function r(a){return t.splice(t.indexOf(a),1)[0]}function s(a){if(!n())return Te(new rt("Not adding Promise because buffer limit was reached."));const o=a();return t.indexOf(o)===-1&&t.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function i(a){return new X((o,c)=>{let u=t.length;if(!u)return o(!0);const d=setTimeout(()=>{a&&a>0&&o(!1)},a);t.forEach(f=>{kt(f).then(()=>{--u||(clearTimeout(d),o(!0))},c)})})}return{$:t,add:s,drain:i}}function je(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Hi=["fatal","error","warning","log","info","debug"];function ji(e){return e==="warn"?"warning":Hi.includes(e)?e:"log"}const Vr=Qt(),an={nowSeconds:()=>Date.now()/1e3};function qi(){const{performance:e}=Vr;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function Ki(){try{return Tt(pt,"perf_hooks").performance}catch{return}}const qe=Wr()?Ki():qi(),er=qe===void 0?an:{nowSeconds:()=>(qe.timeOrigin+qe.now())/1e3},Ne=an.nowSeconds.bind(an),Ot=er.nowSeconds.bind(er),ut=(()=>{const{performance:e}=Vr;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,a=e.timing&&e.timing.navigationStart,c=typeof a=="number"?Math.abs(a+n-r):t,u=c<t;return i||u?s<=c?e.timeOrigin:a:r})(),on="baggage",Xr="sentry-",Wi=/^sentry-/,zi=8192;function Vi(e){if(!vt(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,s)=>{const i=nr(s);return{...r,...i}},{});else{if(!e)return;t=nr(e)}const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Wi)){const a=s.slice(Xr.length);r[a]=i}return r},{});if(Object.keys(n).length>0)return n}function cn(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Xr}${r}`]=s),n),{});return Xi(t)}function nr(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function Xi(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,a=s===0?i:`${t},${i}`;return a.length>zi?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):a},"")}const Ji=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Zi(e){if(!e)return;const t=e.match(Ji);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Qi(e,t){const n=Zi(e),r=Vi(t),{traceId:s,parentSpanId:i,parentSampled:a}=n||{},o={traceId:s||z(),spanId:z().substring(16),sampled:a};return i&&(o.parentSpanId=i),r&&(o.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:o}}function Tn(e=z(),t=z().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ee(e,t=[]){return[e,t]}function ta(e,t){const[n,r]=e;return[n,[...r,t]]}function rr(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function un(e,t){return(t||new TextEncoder).encode(e)}function ea(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(a){typeof s=="string"?s=typeof a=="string"?s+a:[un(s,t),a]:s.push(typeof a=="string"?un(a,t):a)}for(const a of r){const[o,c]=a;if(i(`
${JSON.stringify(o)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(mt(c))}i(u)}}return typeof s=="string"?s:na(s)}function na(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function ra(e,t){const n=typeof e.data=="string"?un(e.data,t):e.data;return[bt({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const sa={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function sr(e){return sa[e]}function Jr(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ia(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&{dsn:te(r)},...s&&{trace:bt({...s})}}}function aa(e,t,n){const r=[{type:"client_report"},{timestamp:n||Ne(),discarded_events:e}];return ee(t?{dsn:t}:{},[r])}const oa=60*1e3;function ca(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?oa:r-t}function ua(e,t){return e[t]||e.all||0}function da(e,t,n=Date.now()){return ua(e,t)>n}function la(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const o of i.trim().split(",")){const[c,u]=o.split(":",2),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+f;else for(const _ of u.split(";"))s[_]=r+f}else a?s.all=r+ca(a,r):t===429&&(s.all=r+60*1e3);return s}const bn="production";function fa(e){const t=Ot(),n={sid:z(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>_a(n)};return e&&xt(n,e),n}function xt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ot(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:z()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function pa(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),xt(e,n)}function _a(e){return bt({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const ha=100;class wt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=ir()}static clone(t){const n=new wt;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata},n._propagationContext={...t._propagationContext}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&xt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const n=t(this);return n instanceof wt?n:this}return t instanceof wt?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):Ct(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=ir(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:ha;if(r<=0)return this;const s={timestamp:Ne(),...t};return this._breadcrumbs=[...this._breadcrumbs,s].slice(-r),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const r=this._span.transaction;if(r){t.sdkProcessingMetadata={dynamicSamplingContext:r.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const s=r.name;s&&(t.tags={transaction:s,...t.tags})}}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...Zr(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_notifyEventProcessors(t,n,r,s=0){return new X((i,a)=>{const o=t[s];if(n===null||typeof o!="function")i(n);else{const c=o({...n},r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&o.id&&c===null&&p.log(`Event processor "${o.id}" dropped event`),En(c)?c.then(u=>this._notifyEventProcessors(t,u,r,s+1).then(i)).then(null,a):this._notifyEventProcessors(t,c,r,s+1).then(i).then(null,a)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Kr(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function Zr(){return Pr("globalEventProcessors",()=>[])}function Qr(e){Zr().push(e)}function ir(){return{traceId:z(),spanId:z().substring(16)}}const ts=4,ma=100;class es{constructor(t,n=new wt,r=ts){this._version=r,this._stack=[{scope:n}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=wt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:z(),s=new Error("Sentry syntheticException");return this._withClient((i,a)=>{i.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},a)}),r}captureMessage(t,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:z(),i=new Error(t);return this._withClient((a,o)=>{a.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},o)}),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:z();return t.type||(this._lastEventId=r),this._withClient((s,i)=>{s.captureEvent(t,{...n,event_id:r},i)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=ma}=s.getOptions&&s.getOptions()||{};if(a<=0)return;const c={timestamp:Ne(),...t},u=i?$r(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,a))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=ar(this);try{t(this)}finally{ar(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!r){const s=this.getClient();console.warn(s?`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`:"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&pa(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=bn}=r&&r.getOptions()||{},{userAgent:a}=P.navigator||{},o=fa({release:s,environment:i,user:n.getUser(),...a&&{userAgent:a},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&xt(c,{status:"exited"}),this.endSession(),n.setSession(o),o}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(t){const{scope:n,client:r}=this.getStackTop();r&&t(r,n)}_callExtensionMethod(t,...n){const s=Ft().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Ft(){return P.__SENTRY__=P.__SENTRY__||{extensions:{},hub:void 0},P}function ar(e){const t=Ft(),n=dn(t);return ns(t,e),n}function A(){const e=Ft();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return ga(e)}function ga(e=Ft()){return(!Ea(e)||dn(e).isOlderThan(ts))&&ns(e,new es),dn(e)}function Ea(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function dn(e){return Pr("hub",()=>new es,e)}function ns(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function vn(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=A().getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function ne(e){return(e||A()).getScope().getTransaction()}let or=!1;function ya(){or||(or=!0,J("error",ln),J("unhandledrejection",ln))}function ln(){const e=ne();if(e){const t="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}ln.tag="sentry_tracingErrorCallback";class rs{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class Rn{constructor(t={}){this.traceId=t.traceId||z(),this.spanId=t.spanId||z().substring(16),this.startTimestamp=t.startTimestamp||Ot(),this.tags=t.tags||{},this.data=t.data||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this.description||""}set name(t){this.setName(t)}startChild(t){const n=new Rn({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&n.transaction){const r=t&&t.op||"< unknown op >",s=n.transaction.name||"< unknown name >",i=n.transaction.spanId,a=`[Tracing] Starting '${r}' span on transaction '${s}' (${i}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:a},p.log(a)}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);const n=Sa(t);return n!=="unknown_error"&&this.setStatus(n),this}setName(t){this.description=t}isSuccess(){return this.status==="ok"}finish(t){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&p.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof t=="number"?t:Ot()}toTraceparent(){return Tn(this.traceId,this.spanId,this.sampled)}toContext(){return bt({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return bt({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return bt({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}function Sa(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function De(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},a=bt({environment:r.environment||bn,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",a),a}class ss extends Rn{constructor(t,n){super(t),delete this.description,this._measurements={},this._contexts={},this._hub=n||A(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const r=this.metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}setName(t,n="custom"){this._name=t,this.metadata.source=n}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new rs(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(o=>o!==this&&o.endTimestamp):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((o,c)=>o.endTimestamp&&c.endTimestamp?o.endTimestamp>c.endTimestamp?o:c:o).endTimestamp);const s=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...s,dynamicSamplingContext:this.getDynamicSamplingContext()},...s.source&&{transaction_info:{source:s.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(i)}toContext(){const t=super.toContext();return bt({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||A(),n=t.getClient();if(!n)return{};const r=t.getScope(),s=De(this.traceId,n,r),i=this.metadata.sampleRate;i!==void 0&&(s.sample_rate=`${i}`);const a=this.metadata.source;return a&&a!=="url"&&(s.transaction=this.name),this.sampled!==void 0&&(s.sampled=String(this.sampled)),s}setHub(t){this._hub=t}}const me={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Ta="finishReason",At=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class ba extends rs{constructor(t,n,r,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){t.spanId!==this.transactionSpanId&&(t.finish=n=>{t.endTimestamp=typeof n=="number"?n:Ot(),this._popActivity(t.spanId)},t.endTimestamp===void 0&&this._pushActivity(t.spanId)),super.add(t)}}class va extends ss{constructor(t,n,r=me.idleTimeout,s=me.finalTimeout,i=me.heartbeatInterval,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=a,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=At[4],a&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(o=>o.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=At[3],this.finish())},this._finalTimeout)}finish(t=Ot()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(Ta,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] finishing IdleTransaction",new Date(t*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=t,n.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const r=n.startTimestamp<t,s=(this._finalTimeout+this._idleTimeout)/1e3,i=n.endTimestamp-this.startTimestamp<s;if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const a=JSON.stringify(n,void 0,2);r?i||p.log("[Tracing] discarding Span since it finished after Transaction final timeout",a):p.log("[Tracing] discarding Span since it happened after Transaction was finished",a)}return r&&i}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] No active IdleTransaction");if(this._onScope){const n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new ba(n,r,this.spanId,t),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=At[5],this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=At[1],this.finish(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] popActivity ${t}`),delete this.activities[t],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=Ot();this._idleTimeoutCanceledPermanently?(this._finishReason=At[5],this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=At[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Ra(){const t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function is(e,t,n){if(!vn(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})):(r=1,e.setMetadata({sampleRate:r})),Ia(r)?r?(e.sampled=Math.random()<r,e.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Ia(e){return Cr(e)||!(typeof e=="number"||typeof e=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Na(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let a=new ss(e,this);return a=is(a,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),a.sampled&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function cr(e,t,n,r,s,i,a){const o=e.getClient(),c=o&&o.getOptions()||{};let u=new va(t,e,n,r,a,s);return u=is(u,c,{parentSampled:t.parentSampled,transactionContext:t,...i}),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),o&&o.emit&&o.emit("startTransaction",u),u}function as(){const e=Ft();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Na),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Ra),ya())}function os(e,t){return A().captureException(e,{captureContext:t})}function cs(e){A().withScope(e)}const Da="7";function us(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function wa(e){return`${us(e)}${e.projectId}/envelope/`}function ka(e,t){return mi({sentry_key:e.publicKey,sentry_version:Da,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Oa(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${wa(e)}?${ka(e,r)}`}function Aa(e,t){const n=Gr(e);if(!n)return"";const r=`${us(n)}embed/error-page/`;let s=`dsn=${te(n)}`;for(const i in t)if(i!=="dsn")if(i==="user"){const a=t.user;if(!a)continue;a.name&&(s+=`&name=${encodeURIComponent(a.name)}`),a.email&&(s+=`&email=${encodeURIComponent(a.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}function La(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Ba(e,t,n,r){const s=Jr(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&{dsn:te(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ee(i,[a])}function Ua(e,t,n,r){const s=Jr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";La(e,n&&n.sdk);const a=ia(e,s,r,t);return delete e.sdkProcessingMetadata,ee(a,[[{type:i},e]])}const ur=[];function Ca(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function Pa(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Kr(n(t)):r=t;const s=Ca(r),i=xa(s,a=>a.name==="Debug");if(i!==-1){const[a]=s.splice(i,1);s.push(a)}return s}function $a(e){const t={};return e.forEach(n=>{n&&ds(n,t)}),t}function ds(e,t){t[e.name]=e,ur.indexOf(e.name)===-1&&(e.setupOnce(Qr,A),ur.push(e.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`Integration installed: ${e.name}`))}function xa(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function Ga(e,t,n,r){const{normalizeDepth:s=3,normalizeMaxBreadth:i=1e3}=e,a={...t,event_id:t.event_id||n.event_id||z(),timestamp:t.timestamp||Ne()},o=n.integrations||e.integrations.map(d=>d.name);Ma(a,e),Ha(a,o),t.type===void 0&&Ya(a,e.stackParser);let c=r;n.captureContext&&(c=wt.clone(c).update(n.captureContext));let u=kt(a);if(c){if(c.getAttachments){const d=[...n.attachments||[],...c.getAttachments()];d.length&&(n.attachments=d)}u=c.applyToEvent(a,n)}return u.then(d=>(d&&Fa(d),typeof s=="number"&&s>0?ja(d,s,i):d))}function Ma(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:bn),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Ut(e.message,i));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=Ut(a.value,i));const o=e.request;o&&o.url&&(o.url=Ut(o.url,i))}const dr=new WeakMap;function Ya(e,t){const n=P._sentryDebugIds;if(!n)return;let r;const s=dr.get(t);s?r=s:(r=new Map,dr.set(t,r));const i=Object.keys(n).reduce((a,o)=>{let c;const u=r.get(o);u?c=u:(c=t(o),r.set(o,c));for(let d=c.length-1;d>=0;d--){const f=c[d];if(f.filename){a[f.filename]=n[o];break}}return a},{});try{e.exception.values.forEach(a=>{a.stacktrace.frames.forEach(o=>{o.filename&&(o.debug_id=i[o.filename])})})}catch{}}function Fa(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function Ha(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function ja(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:mt(s.data,t,n)}}))},...e.user&&{user:mt(e.user,t,n)},...e.contexts&&{contexts:mt(e.contexts,t,n)},...e.extra&&{extra:mt(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=mt(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>(s.data&&(s.data=mt(s.data,t,n)),s))),r}const lr="Not capturing exception because it's already been captured.";class qa{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},t.dsn?this._dsn=Gr(t.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("No DSN provided, client will not do anything."),this._dsn){const n=Oa(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(tr(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(lr);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(t,n,r,s){let i=r&&r.event_id;const a=Ur(t)?this.eventFromMessage(String(t),n,r):this.eventFromException(t,r);return this._process(a.then(o=>this._captureEvent(o,r,s)).then(o=>{i=o})),i}captureEvent(t,n,r){if(n&&n.originalException&&tr(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(lr);return}let s=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(i=>{s=i})),s}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),xt(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s)):kt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=$a(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){ds(t,this._integrations)}sendEvent(t,n={}){if(this.emit("beforeSendEvent",t,n),this._dsn){let r=Ua(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=ta(r,ra(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}}sendSession(t){if(this._dsn){const n=Ba(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=`${t}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_updateSessionFromEvent(t,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&r)&&(xt(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new X(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,n,r){const s=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),Ga(s,t,n,r).then(a=>{if(a===null)return a;const{propagationContext:o}=a.sdkProcessingMetadata||{};if(!(a.contexts&&a.contexts.trace)&&o){const{traceId:u,spanId:d,parentSpanId:f,dsc:_}=o;a.contexts={trace:{trace_id:u,span_id:d,parent_span_id:f},...a.contexts};const h=_||De(u,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const i=s;i.logLevel==="log"?p.log(i.message):p.warn(i)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s;if(!this._isEnabled())return Te(new rt("SDK not enabled, will not capture event.","log"));const a=fs(t),o=ls(t),c=t.type||"error",u=`before send for type \`${c}\``;if(o&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),Te(new rt(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const d=c==="replay_event"?"replay":c;return this._prepareEvent(t,n,r).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",d,t),new rt("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return f;const h=Wa(s,f,n);return Ka(h,u)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",d,t),new rt(`${u} returned \`null\`, will not send event.`,"log");const _=r&&r.getSession();!a&&_&&this._updateSessionFromEvent(_,f);const h=f.transaction_info;if(a&&h&&f.transaction!==t.transaction){const g="custom";f.transaction_info={...h,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof rt?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new rt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",t),this._transport.send(t).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error("Error while sending event:",n)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function Ka(e,t){const n=`${t} must return \`null\` or a valid event.`;if(En(e))return e.then(r=>{if(!Ct(r)&&r!==null)throw new rt(n);return r},r=>{throw new rt(`${t} rejected with ${r}`)});if(!Ct(e)&&e!==null)throw new rt(n);return e}function Wa(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;return ls(t)&&r?r(t,n):fs(t)&&s?s(t,n):t}function ls(e){return e.type===void 0}function fs(e){return e.type==="transaction"}function za(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?p.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=A();n.getScope().update(t.initialScope);const s=new e(t);n.bindClient(s)}const Va=30;function ps(e,t,n=Fi(e.bufferSize||Va)){let r={};const s=a=>n.drain(a);function i(a){const o=[];if(rr(a,(f,_)=>{const h=sr(_);if(da(r,h)){const g=fr(f,_);e.recordDroppedEvent("ratelimit_backoff",h,g)}else o.push(f)}),o.length===0)return kt();const c=ee(a[0],o),u=f=>{rr(c,(_,h)=>{const g=fr(_,h);e.recordDroppedEvent(f,sr(h),g)})},d=()=>t({body:ea(c,e.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=la(r,f),f),f=>{throw u("network_error"),f});return n.add(d).then(f=>f,f=>{if(f instanceof rt)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error("Skipped sending event because buffer is full."),u("queue_overflow"),kt();throw f})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function fr(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const be="7.68.0";let pr;class we{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=we.id}setupOnce(){pr=Function.prototype.toString;try{Function.prototype.toString=function(...t){const n=Sn(this)||this;return pr.apply(n,t)}}catch{}}}we.__initStatic();const Xa=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ja=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/];class zt{static __initStatic(){this.id="InboundFilters"}constructor(t={}){this.name=zt.id,this._options=t}setupOnce(t,n){const r=s=>{const i=n();if(i){const a=i.getIntegration(zt);if(a){const o=i.getClient(),c=o?o.getOptions():{},u=Za(a._options,c);return Qa(s,u)?null:s}}return s};r.id=this.name,t(r)}}zt.__initStatic();function Za(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Xa],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Ja],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Qa(e,t){return t.ignoreInternal&&io(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Event dropped due to being internal Sentry Error.
Event: ${yt(e)}`),!0):to(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${yt(e)}`),!0):eo(e,t.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${yt(e)}`),!0):no(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${yt(e)}.
Url: ${ve(e)}`),!0):ro(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${yt(e)}.
Url: ${ve(e)}`),!0)}function to(e,t){return e.type||!t||!t.length?!1:so(e).some(n=>Zt(n,t))}function eo(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Zt(n,t):!1}function no(e,t){if(!t||!t.length)return!1;const n=ve(e);return n?Zt(n,t):!1}function ro(e,t){if(!t||!t.length)return!0;const n=ve(e);return n?Zt(n,t):!0}function so(e){if(e.message)return[e.message];if(e.exception){const{values:t}=e.exception;try{const{type:n="",value:r=""}=t&&t[t.length-1]||{};return[`${r}`,`${n}: ${r}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error(`Cannot extract message for event ${yt(e)}`),[]}}return[]}function io(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function ao(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ve(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?ao(t):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error(`Cannot extract url for event ${yt(e)}`),null}}const N=P;let fn=0;function _s(){return fn>0}function oo(){fn++,setTimeout(()=>{fn--})}function Gt(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return s;if(Sn(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=s.map(a=>Gt(a,t));return e.apply(this,i)}catch(i){throw oo(),cs(a=>{a.addEventProcessor(o=>(t.mechanism&&(rn(o,void 0,void 0),$t(o,t.mechanism)),o.extra={...o.extra,arguments:s},o)),os(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Mr(r,e),yn(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function hs(e,t){const n=In(e,t),r={type:t&&t.name,value:fo(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function co(e,t,n,r){const i=A().getClient(),a=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:Ie(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ho(t,{isUnhandledRejection:r})}]},extra:{__serialized__:zr(t,a)}};if(n){const c=In(e,n);c.length&&(o.exception.values[0].stacktrace={frames:c})}return o}function Ke(e,t){return{exception:{values:[hs(e,t)]}}}function In(e,t){const n=t.stacktrace||t.stack||"",r=lo(t);try{return e(n,r)}catch{}return[]}const uo=/Minified React error #\d+;/i;function lo(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(uo.test(e.message))return 1}return 0}function fo(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function po(e,t,n,r){const s=n&&n.syntheticException||void 0,i=Nn(e,t,s,r);return $t(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),kt(i)}function _o(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,a=pn(e,t,i,s);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),kt(a)}function Nn(e,t,n,r,s){let i;if(gn(t)&&t.error)return Ke(e,t.error);if(Hn(t)||Qs(t)){const a=t;if("stack"in t)i=Ke(e,t);else{const o=a.name||(Hn(a)?"DOMError":"DOMException"),c=a.message?`${o}: ${a.message}`:o;i=pn(e,c,n,r),rn(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return mn(t)?Ke(e,t):Ct(t)||Ie(t)?(i=co(e,t,n,s),$t(i,{synthetic:!0}),i):(i=pn(e,t,n,r),rn(i,`${t}`,void 0),$t(i,{synthetic:!0}),i)}function pn(e,t,n,r){const s={message:t};if(r&&n){const i=In(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}return s}function ho(e,{isUnhandledRejection:t}){const n=gi(e),r=t?"promise rejection":"exception";return gn(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Ie(e)?`Event \`${mo(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function mo(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function go(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:te(r)}},i=Eo(e);return ee(s,[i])}function Eo(e){return[{type:"user_report"},e]}class yo extends qa{constructor(t){const n=N.SENTRY_SDK_SOURCE||Pi();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:be}],version:be},super(t),t.sendClientReports&&N.document&&N.document.addEventListener("visibilitychange",()=>{N.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return po(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return _o(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("SDK not enabled, will not capture user feedback.");return}const n=go(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("Sending outcomes:",t);const n=aa(t,this._options.tunnel&&te(this._dsn));this._sendEnvelope(n)}}let qt;function So(){if(qt)return qt;if(en(N.fetch))return qt=N.fetch.bind(N);const e=N.document;let t=N.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return qt=t.bind(N)}function To(){qt=void 0}function bo(e,t=So()){let n=0,r=0;function s(i){const a=i.body.length;n+=a,r++;const o={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,o).then(c=>(n-=a,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return To(),n-=a,r--,Te(c)}}return ps(e,s)}const vo=4;function Ro(e){function t(n){return new X((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===vo&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const a in e.headers)Object.prototype.hasOwnProperty.call(e.headers,a)&&i.setRequestHeader(a,e.headers[a]);i.send(n.body)})}return ps(e,t)}const ke="?",Io=30,No=40,Do=50;function Dn(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const wo=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ko=/\((\S*)(?::(\d+))(?::(\d+))\)/,Oo=e=>{const t=wo.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=ko.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=ms(t[1]||ke,t[2]);return Dn(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Ao=[Io,Oo],Lo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Bo=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Uo=e=>{const t=Lo.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=Bo.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||ke;return[s,r]=ms(s,r),Dn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Co=[Do,Uo],Po=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,$o=e=>{const t=Po.exec(e);return t?Dn(t[2],t[1]||ke,+t[3],t[4]?+t[4]:void 0):void 0},xo=[No,$o],Go=[Ao,Co,xo],Mo=Hr(...Go),ms=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ke,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class Ht{static __initStatic(){this.id="GlobalHandlers"}constructor(t){this.name=Ht.id,this._options={onerror:!0,onunhandledrejection:!0,...t},this._installFunc={onerror:Yo,onunhandledrejection:Fo}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const r=this._installFunc[n];r&&t[n]&&(qo(n),r(),this._installFunc[n]=void 0)}}}Ht.__initStatic();function Yo(){J("error",e=>{const[t,n,r]=ys();if(!t.getIntegration(Ht))return;const{msg:s,url:i,line:a,column:o,error:c}=e;if(_s()||c&&c.__sentry_own_request__)return;const u=c===void 0&&vt(s)?jo(s,i,a,o):gs(Nn(n,c||s,void 0,r,!1),i,a,o);u.level="error",Es(t,c,u,"onerror")})}function Fo(){J("unhandledrejection",e=>{const[t,n,r]=ys();if(!t.getIntegration(Ht))return;let s=e;try{"reason"in e?s=e.reason:"detail"in e&&"reason"in e.detail&&(s=e.detail.reason)}catch{}if(_s()||s&&s.__sentry_own_request__)return!0;const i=Ur(s)?Ho(s):Nn(n,s,void 0,r,!0);i.level="error",Es(t,s,i,"onunhandledrejection")})}function Ho(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function jo(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=gn(e)?e.message:e,a="Error";const o=i.match(s);return o&&(a=o[1],i=o[2]),gs({exception:{values:[{type:a,value:i}]}},t,n,r)}function gs(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],a=i[0]=i[0]||{},o=a.stacktrace=a.stacktrace||{},c=o.frames=o.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,f=vt(t)&&t.length>0?t:ci();return c.length===0&&c.push({colno:u,filename:f,function:"?",in_app:!0,lineno:d}),e}function qo(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`Global Handler attached: ${e}`)}function Es(e,t,n,r){$t(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function ys(){const e=A(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}const Ko=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Oe{static __initStatic(){this.id="TryCatch"}constructor(t){this.name=Oe.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&H(N,"setTimeout",_r),this._options.setInterval&&H(N,"setInterval",_r),this._options.requestAnimationFrame&&H(N,"requestAnimationFrame",Wo),this._options.XMLHttpRequest&&"XMLHttpRequest"in N&&H(XMLHttpRequest.prototype,"send",zo);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:Ko).forEach(Vo)}}Oe.__initStatic();function _r(e){return function(...t){const n=t[0];return t[0]=Gt(n,{mechanism:{data:{function:Rt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Wo(e){return function(t){return e.apply(this,[Gt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Rt(e)},handled:!1,type:"instrument"}})])}}function zo(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&H(n,s,function(i){const a={mechanism:{data:{function:s,handler:Rt(i)},handled:!1,type:"instrument"}},o=Sn(i);return o&&(a.mechanism.data.handler=Rt(o)),Gt(i,a)})}),e.apply(this,t)}}function Vo(e){const t=N,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(H(n,"addEventListener",function(r){return function(s,i,a){try{typeof i.handleEvent=="function"&&(i.handleEvent=Gt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Rt(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Gt(i,{mechanism:{data:{function:"addEventListener",handler:Rt(i),target:e},handled:!1,type:"instrument"}}),a])}}),H(n,"removeEventListener",function(r){return function(s,i,a){const o=i;try{const c=o&&o.__sentry_wrapped__;c&&r.call(this,s,c,a)}catch{}return r.call(this,s,o,a)}}))}const fe=1024;class Ae{static __initStatic(){this.id="Breadcrumbs"}constructor(t){this.name=Ae.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){if(this.options.console&&J("console",Zo),this.options.dom&&J("dom",Jo(this.options.dom)),this.options.xhr&&J("xhr",Qo),this.options.fetch&&J("fetch",tc),this.options.history&&J("history",ec),this.options.sentry){const t=A().getClient();t&&t.on&&t.on("beforeSendEvent",Xo)}}}Ae.__initStatic();function Xo(e){A().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:yt(e)},{event:e})}function Jo(e){function t(n){let r,s=typeof e=="object"?e.serializeAttribute:void 0,i=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;i&&i>fe&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`\`dom.maxStringLength\` cannot exceed ${fe}, but a value of ${i} was configured. Sentry will use ${fe} instead.`),i=fe),typeof s=="string"&&(s=[s]);try{const a=n.event;r=nc(a)?Pt(a.target,{keyAttrs:s,maxStringLength:i}):Pt(a,{keyAttrs:s,maxStringLength:i})}catch{r="<unknown>"}r.length!==0&&A().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return t}function Zo(e){for(let n=0;n<e.args.length;n++)if(e.args[n]==="ref=Ref<"){e.args[n+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:ji(e.level),message:jn(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${jn(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;A().addBreadcrumb(t,{input:e.args,level:e.level})}function Qo(e){const{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[Bt];if(!t||!n||!r)return;const{method:s,url:i,status_code:a,body:o}=r,c={method:s,url:i,status_code:a},u={xhr:e.xhr,input:o,startTimestamp:t,endTimestamp:n};A().addBreadcrumb({category:"xhr",data:c,type:"http"},u)}function tc(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&!(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"))if(e.error){const r=e.fetchData,s={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};A().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},s)}else{const r={...e.fetchData,status_code:e.response&&e.response.status},s={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};A().addBreadcrumb({category:"fetch",data:r,type:"http"},s)}}function ec(e){let t=e.from,n=e.to;const r=je(N.location.href);let s=je(t);const i=je(n);s.path||(s=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===s.protocol&&r.host===s.host&&(t=s.relative),A().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}function nc(e){return!!e&&!!e.target}const rc="cause",sc=5;class Vt{static __initStatic(){this.id="LinkedErrors"}constructor(t={}){this.name=Vt.id,this._key=t.key||rc,this._limit=t.limit||sc}setupOnce(t,n){t((r,s)=>{const i=n(),a=i.getClient(),o=i.getIntegration(Vt);if(!a||!o)return r;const c=a.getOptions();return si(hs,c.stackParser,c.maxValueLength,o._key,o._limit,r,s),r})}}Vt.__initStatic();class Xt{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Xt.id}setupOnce(){Qr(t=>{if(A().getIntegration(Xt)){if(!N.navigator&&!N.location&&!N.document)return t;const n=t.request&&t.request.url||N.location&&N.location.href,{referrer:r}=N.document||{},{userAgent:s}=N.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...s&&{"User-Agent":s}},a={...t.request,...n&&{url:n},headers:i};return{...t,request:a}}return t})}}Xt.__initStatic();class Jt{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Jt.id}setupOnce(t,n){const r=s=>{if(s.type)return s;const i=n().getIntegration(Jt);if(i){try{if(ic(s,i._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=s}return i._previousEvent=s}return s};r.id=this.name,t(r)}}Jt.__initStatic();function ic(e,t){return t?!!(ac(e,t)||oc(e,t)):!1}function ac(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Ts(e,t)||!Ss(e,t))}function oc(e,t){const n=hr(t),r=hr(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Ts(e,t)||!Ss(e,t))}function Ss(e,t){let n=mr(e),r=mr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],a=n[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function Ts(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function hr(e){return e.exception&&e.exception.values&&e.exception.values[0]}function mr(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const cc=[new zt,new we,new Oe,new Ae,new Ht,new Vt,new Jt,new Xt];function uc(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=cc),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),N.SENTRY_RELEASE&&N.SENTRY_RELEASE.id&&(e.release=N.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:Ei(e.stackParser||Mo),integrations:Pa(e),transport:e.transport||(jr()?bo:Ro)};za(yo,t),e.autoSessionTracking&&dc()}function gr(e={},t=A()){if(!N.document){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=N.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Aa(s,e),e.onLoad&&(i.onload=e.onLoad);const a=N.document.head||N.document.body;a?a.appendChild(i):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.error("Not injecting report dialog. No injection point found in HTML")}function Er(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function dc(){if(typeof N.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const e=A();e.captureSession&&(Er(e),J("history",({from:t,to:n})=>{t===void 0||t===n||Er(A())}))}const w=P;function lc(){w&&w.document?w.document.addEventListener("visibilitychange",()=>{const e=ne();if(w.document.hidden&&e){const t="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const wn=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||r===void 0)&&(r=t.value,t.delta=s,e(t)))}},fc=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,pc=()=>{const e=w.performance.timing,t=w.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},bs=()=>w.__WEB_VITALS_POLYFILL__?w.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||pc()):w.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],vs=()=>{const e=bs();return e&&e.activationStart||0},kn=(e,t)=>{const n=bs();let r="navigate";return n&&(w.document.prerendering||vs()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:fc(),navigationType:r}},re=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{t(s.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Le=(e,t)=>{const n=r=>{(r.type==="pagehide"||w.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},_c=e=>{const t=kn("CLS",0);let n,r=0,s=[];const i=o=>{o.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];r&&s.length!==0&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,s.push(c)):(r=c.value,s=[c]),r>t.value&&(t.value=r,t.entries=s,n&&n())}})},a=re("layout-shift",i);if(a){n=wn(e,t);const o=()=>{i(a.takeRecords()),n(!0)};return Le(o),o}};let ge=-1;const hc=()=>w.document.visibilityState==="hidden"&&!w.document.prerendering?0:1/0,mc=()=>{Le(({timeStamp:e})=>{ge=e},!0)},On=()=>(ge<0&&(ge=hc(),mc()),{get firstHiddenTime(){return ge}}),gc=e=>{const t=On(),n=kn("FID");let r;const s=o=>{o.startTime<t.firstHiddenTime&&(n.value=o.processingStart-o.startTime,n.entries.push(o),r(!0))},i=o=>{o.forEach(s)},a=re("first-input",i);r=wn(e,n),a&&Le(()=>{i(a.takeRecords()),a.disconnect()},!0)},yr={},Ec=e=>{const t=On(),n=kn("LCP");let r;const s=a=>{const o=a[a.length-1];if(o){const c=Math.max(o.startTime-vs(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[o],r())}},i=re("largest-contentful-paint",s);if(i){r=wn(e,n);const a=()=>{yr[n.id]||(s(i.takeRecords()),i.disconnect(),yr[n.id]=!0,r(!0))};return["keydown","click"].forEach(o=>{addEventListener(o,a,{once:!0,capture:!0})}),Le(a,!0),a}};function We(e){return typeof e=="number"&&isFinite(e)}function Mt(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function C(e){return e/1e3}function Rs(){return w&&w.addEventListener&&w.performance}let Sr=0,U={},ot,Wt;function yc(){const e=Rs();if(e&&ut){e.mark&&w.performance.mark("sentry-tracing-init"),Rc();const t=bc(),n=vc();return()=>{t&&t(),n&&n()}}return()=>{}}function Sc(){re("longtask",t=>{for(const n of t){const r=ne();if(!r)return;const s=C(ut+n.startTime),i=C(n.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:s,endTimestamp:s+i})}})}function Tc(){re("event",t=>{for(const n of t){const r=ne();if(!r)return;if(n.name==="click"){const s=C(ut+n.startTime),i=C(n.duration);r.startChild({description:Pt(n.target),op:`ui.interaction.${n.name}`,origin:"auto.ui.browser.metrics",startTimestamp:s,endTimestamp:s+i})}}},{durationThreshold:0})}function bc(){return _c(e=>{const t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding CLS"),U.cls={value:e.value,unit:""},Wt=t)})}function vc(){return Ec(e=>{const t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding LCP"),U.lcp={value:e.value,unit:"millisecond"},ot=t)})}function Rc(){gc(e=>{const t=e.entries.pop();if(!t)return;const n=C(ut),r=C(t.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding FID"),U.fid={value:e.value,unit:"millisecond"},U["mark.fid"]={value:n+r,unit:"second"}})}function Ic(e){const t=Rs();if(!t||!w.performance.getEntries||!ut)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Tracing] Adding & adjusting spans using Performance API");const n=C(ut),r=t.getEntries();let s,i;if(r.slice(Sr).forEach(a=>{const o=C(a.startTime),c=C(a.duration);if(!(e.op==="navigation"&&n+o<e.startTimestamp))switch(a.entryType){case"navigation":{Dc(e,a,n),s=n+C(a.responseStart),i=n+C(a.requestStart);break}case"mark":case"paint":case"measure":{Nc(e,a,o,c,n);const u=On(),d=a.startTime<u.firstHiddenTime;a.name==="first-paint"&&d&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding FP"),U.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&d&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding FCP"),U.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{const u=a.name.replace(w.location.origin,"");kc(e,a,u,o,c,n);break}}}),Sr=Math.max(r.length-1,0),Oc(e),e.op==="pageload"){typeof s=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding TTFB"),U.ttfb={value:(s-e.startTimestamp)*1e3,unit:"millisecond"},typeof i=="number"&&i<=s&&(U["ttfb.requestTime"]={value:(s-i)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(o=>{if(!U[o]||n>=e.startTimestamp)return;const c=U[o].value,u=n+C(c),d=Math.abs((u-e.startTimestamp)*1e3),f=d-c;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Measurements] Normalized ${o} from ${c} to ${d} (${f})`),U[o].value=d});const a=U["mark.fid"];a&&U.fid&&(Mt(e,{description:"first input delay",endTimestamp:a.value+C(U.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:a.value}),delete U["mark.fid"]),"fcp"in U||delete U.cls,Object.keys(U).forEach(o=>{e.setMeasurement(o,U[o].value,U[o].unit)}),Ac(e)}ot=void 0,Wt=void 0,U={}}function Nc(e,t,n,r,s){const i=s+n,a=i+r;return Mt(e,{description:t.name,endTimestamp:a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function Dc(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{pe(e,t,r,n)}),pe(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),pe(e,t,"fetch",n,"cache","domainLookupStart"),pe(e,t,"domainLookup",n,"DNS"),wc(e,t,n)}function pe(e,t,n,r,s,i){const a=i?t[i]:t[`${n}End`],o=t[`${n}Start`];!o||!a||Mt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+C(o),endTimestamp:r+C(a)})}function wc(e,t,n){Mt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+C(t.requestStart),endTimestamp:n+C(t.responseEnd)}),Mt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+C(t.responseStart),endTimestamp:n+C(t.responseEnd)})}function kc(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a={};"transferSize"in t&&(a["http.response_transfer_size"]=t.transferSize),"encodedBodySize"in t&&(a["http.response_content_length"]=t.encodedBodySize),"decodedBodySize"in t&&(a["http.decoded_response_content_length"]=t.decodedBodySize),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);const o=i+r,c=o+s;Mt(e,{description:n,endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:o,data:a})}function Oc(e){const t=w.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),We(n.rtt)&&(U["connection.rtt"]={value:n.rtt,unit:"millisecond"})),We(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),We(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Ac(e){ot&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding LCP Data"),ot.element&&e.setTag("lcp.element",Pt(ot.element)),ot.id&&e.setTag("lcp.id",ot.id),ot.url&&e.setTag("lcp.url",ot.url.trim().slice(0,200)),e.setTag("lcp.size",ot.size)),Wt&&Wt.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log("[Measurements] Adding CLS Data"),Wt.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Pt(t.node))))}const _n=["localhost",/^\/(?!\/)/],hn={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:_n,tracePropagationTargets:_n};function Lc(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:a}={traceFetch:hn.traceFetch,traceXHR:hn.traceXHR,...e},o=typeof i=="function"?i:d=>!0,c=d=>Pc(d,r||s),u={};t&&J("fetch",d=>{const f=$c(d,o,c,u);a&&f&&Tr(f)}),n&&J("xhr",d=>{const f=Gc(d,o,c,u);a&&f&&Tr(f)})}function Bc(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Tr(e){const t=e.data.url,n=new PerformanceObserver(r=>{r.getEntries().forEach(i=>{Bc(i)&&i.name.endsWith(t)&&(Cc(i).forEach(o=>e.setData(...o)),n.disconnect())})});n.observe({entryTypes:["resource"]})}function Uc(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function at(e=0){return((ut||performance.timeOrigin)+e)/1e3}function Cc(e){const{name:t,version:n}=Uc(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),ut?[...r,["http.request.redirect_start",at(e.redirectStart)],["http.request.fetch_start",at(e.fetchStart)],["http.request.domain_lookup_start",at(e.domainLookupStart)],["http.request.domain_lookup_end",at(e.domainLookupEnd)],["http.request.connect_start",at(e.connectStart)],["http.request.secure_connection_start",at(e.secureConnectionStart)],["http.request.connection_end",at(e.connectEnd)],["http.request.request_start",at(e.requestStart)],["http.request.response_start",at(e.responseStart)],["http.request.response_end",at(e.responseEnd)]]:r}function Pc(e,t){return Zt(e,t||_n)}function $c(e,t,n,r){if(!vn()||!e.fetchData)return;const s=t(e.fetchData.url);if(e.endTimestamp&&s){const _=e.fetchData.__span;if(!_)return;const h=r[_];if(h){if(e.response){h.setHttpStatus(e.response.status);const g=e.response&&e.response.headers&&e.response.headers.get("content-length"),y=parseInt(g);y>0&&h.setData("http.response_content_length",y)}else e.error&&h.setStatus("internal_error");h.finish(),delete r[_]}return}const i=A(),a=i.getScope(),o=i.getClient(),c=a.getSpan(),{method:u,url:d}=e.fetchData,f=s&&c?c.startChild({data:{url:d,type:"fetch","http.method":u},description:`${u} ${d}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(f&&(e.fetchData.__span=f.spanId,r[f.spanId]=f),n(e.fetchData.url)&&o){const _=e.args[0];e.args[1]=e.args[1]||{};const h=e.args[1];h.headers=xc(_,o,a,h,f)}return f}function xc(e,t,n,r,s){const i=s||n.getSpan(),a=i&&i.transaction,{traceId:o,sampled:c,dsc:u}=n.getPropagationContext(),d=i?i.toTraceparent():Tn(o,void 0,c),f=a?a.getDynamicSamplingContext():u||De(o,t,n),_=cn(f),h=typeof Request<"u"&&_t(e,Request)?e.headers:r.headers;if(h)if(typeof Headers<"u"&&_t(h,Headers)){const g=new Headers(h);return g.append("sentry-trace",d),_&&g.append(on,_),g}else if(Array.isArray(h)){const g=[...h,["sentry-trace",d]];return _&&g.push([on,_]),g}else{const g="baggage"in h?h.baggage:void 0,y=[];return Array.isArray(g)?y.push(...g):g&&y.push(g),_&&y.push(_),{...h,"sentry-trace":d,baggage:y.length>0?y.join(","):void 0}}else return{"sentry-trace":d,baggage:_}}function Gc(e,t,n,r){const s=e.xhr,i=s&&s[Bt];if(!vn()||s&&s.__sentry_own_request__||!s||!i)return;const a=t(i.url);if(e.endTimestamp&&a){const f=s.__sentry_xhr_span_id__;if(!f)return;const _=r[f];_&&(_.setHttpStatus(i.status_code),_.finish(),delete r[f]);return}const o=A(),c=o.getScope(),u=c.getSpan(),d=a&&u?u.startChild({data:{...i.data,type:"xhr","http.method":i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(d&&(s.__sentry_xhr_span_id__=d.spanId,r[s.__sentry_xhr_span_id__]=d),s.setRequestHeader&&n(i.url))if(d){const f=d&&d.transaction,_=f&&f.getDynamicSamplingContext(),h=cn(_);br(s,d.toTraceparent(),h)}else{const f=o.getClient(),{traceId:_,sampled:h,dsc:g}=c.getPropagationContext(),y=Tn(_,void 0,h),S=g||(f?De(_,f,c):void 0),m=cn(S);br(s,y,m)}return d}function br(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(on,n)}catch{}}function Mc(e,t=!0,n=!0){if(!w||!w.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("Could not initialize routing instrumentation due to invalid location");return}let r=w.location.href,s;t&&(s=e({name:w.location.pathname,startTimestamp:ut?ut/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&J("history",({to:i,from:a})=>{if(a===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}a!==i&&(r=void 0,s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.finish()),s=e({name:w.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const Yc="BrowserTracing",Fc={...me,markBackgroundTransactions:!0,routingInstrumentation:Mc,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...hn};let Hc=class{constructor(t){this.name=Yc,this._hasSetTracePropagationTargets=!1,as(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...Fc,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=yc(),this.options.enableLongTask&&Sc(),this.options._experiments.enableInteractions&&Tc()}setupOnce(t,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:a,startTransactionOnLocationChange:o,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:d,traceXHR:f,shouldCreateSpanForRequest:_,enableHTTPTimings:h,_experiments:g}=this.options,y=i&&i.tracePropagationTargets,S=y||this.options.tracePropagationTargets;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&y&&p.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),a(m=>{const T=this._createRouteTransaction(m);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(T,m,n),T},c,o),u&&lc(),g.enableInteractions&&this._registerInteractionListener(),Lc({traceFetch:d,traceXHR:f,tracePropagationTargets:S,shouldCreateSpanForRequest:_,enableHTTPTimings:h})}_createRouteTransaction(t){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:a}=this.options,o=t.op==="pageload",c=o?vr("sentry-trace"):"",u=o?vr("baggage"):"",{traceparentData:d,dynamicSamplingContext:f,propagationContext:_}=Qi(c,u),h={...t,...d,metadata:{...t.metadata,dynamicSamplingContext:d&&!f?{}:f},trimEnd:!0},g=typeof r=="function"?r(h):h,y=g===void 0?{...h,sampled:!1}:g;y.metadata=y.name!==h.name?{...y.metadata,source:"custom"}:y.metadata,this._latestRouteName=y.name,this._latestRouteSource=y.metadata&&y.metadata.source,y.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] Will not send ${y.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.log(`[Tracing] Starting ${y.op} transaction on scope`);const{location:S}=w,m=cr(n,y,s,i,!0,{location:S},a),T=n.getScope();return o&&d?T.setPropagationContext(_):T.setPropagationContext({traceId:m.traceId,spanId:m.spanId,parentSpanId:m.parentSpanId,sampled:m.sampled}),m.registerBeforeFinishCallback(b=>{this._collectWebVitals(),Ic(b)}),m}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,a="ui.action.click",o=ne();if(o&&o.op&&["navigation","pageload"].includes(o.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`[Tracing] Did not create ${a} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=w,d={name:this._latestRouteName,op:a,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=cr(c,d,r,s,!0,{location:u},i)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}};function vr(e){const t=ui(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function jc(){const e=Ft();if(!e.__SENTRY__)return;const t={mongodb(){const r=Tt(pt,"./node/integrations/mongo");return new r.Mongo},mongoose(){const r=Tt(pt,"./node/integrations/mongo");return new r.Mongo},mysql(){const r=Tt(pt,"./node/integrations/mysql");return new r.Mysql},pg(){const r=Tt(pt,"./node/integrations/postgres");return new r.Postgres}},n=Object.keys(t).filter(r=>!!$i(r)).map(r=>{try{return t[r]()}catch{return}}).filter(r=>r);n.length>0&&(e.__SENTRY__.integrations=[...e.__SENTRY__.integrations||[],...n])}function qc(){as(),Wr()&&jc()}function Kc(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:be}],version:be},uc(e)}var Is={exports:{}},D={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F=typeof Symbol=="function"&&Symbol.for,An=F?Symbol.for("react.element"):60103,Ln=F?Symbol.for("react.portal"):60106,Be=F?Symbol.for("react.fragment"):60107,Ue=F?Symbol.for("react.strict_mode"):60108,Ce=F?Symbol.for("react.profiler"):60114,Pe=F?Symbol.for("react.provider"):60109,$e=F?Symbol.for("react.context"):60110,Bn=F?Symbol.for("react.async_mode"):60111,xe=F?Symbol.for("react.concurrent_mode"):60111,Ge=F?Symbol.for("react.forward_ref"):60112,Me=F?Symbol.for("react.suspense"):60113,Wc=F?Symbol.for("react.suspense_list"):60120,Ye=F?Symbol.for("react.memo"):60115,Fe=F?Symbol.for("react.lazy"):60116,zc=F?Symbol.for("react.block"):60121,Vc=F?Symbol.for("react.fundamental"):60117,Xc=F?Symbol.for("react.responder"):60118,Jc=F?Symbol.for("react.scope"):60119;function Z(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case An:switch(e=e.type,e){case Bn:case xe:case Be:case Ce:case Ue:case Me:return e;default:switch(e=e&&e.$$typeof,e){case $e:case Ge:case Fe:case Ye:case Pe:return e;default:return t}}case Ln:return t}}}function Ns(e){return Z(e)===xe}D.AsyncMode=Bn;D.ConcurrentMode=xe;D.ContextConsumer=$e;D.ContextProvider=Pe;D.Element=An;D.ForwardRef=Ge;D.Fragment=Be;D.Lazy=Fe;D.Memo=Ye;D.Portal=Ln;D.Profiler=Ce;D.StrictMode=Ue;D.Suspense=Me;D.isAsyncMode=function(e){return Ns(e)||Z(e)===Bn};D.isConcurrentMode=Ns;D.isContextConsumer=function(e){return Z(e)===$e};D.isContextProvider=function(e){return Z(e)===Pe};D.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===An};D.isForwardRef=function(e){return Z(e)===Ge};D.isFragment=function(e){return Z(e)===Be};D.isLazy=function(e){return Z(e)===Fe};D.isMemo=function(e){return Z(e)===Ye};D.isPortal=function(e){return Z(e)===Ln};D.isProfiler=function(e){return Z(e)===Ce};D.isStrictMode=function(e){return Z(e)===Ue};D.isSuspense=function(e){return Z(e)===Me};D.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Be||e===xe||e===Ce||e===Ue||e===Me||e===Wc||typeof e=="object"&&e!==null&&(e.$$typeof===Fe||e.$$typeof===Ye||e.$$typeof===Pe||e.$$typeof===$e||e.$$typeof===Ge||e.$$typeof===Vc||e.$$typeof===Xc||e.$$typeof===Jc||e.$$typeof===zc)};D.typeOf=Z;Is.exports=D;var Zc=Is.exports,Ds=Zc,Qc={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tu={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ws={};ws[Ds.ForwardRef]=Qc;ws[Ds.Memo]=tu;function eu(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const Rr={componentStack:null,error:null,eventId:null};function nu(e,t){const n=new WeakMap;function r(s,i){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,i);s.cause=i}}r(e,t)}class Un extends E.Component{constructor(t){super(t),Un.prototype.__init.call(this),this.state=Rr,this._openFallbackReportDialog=!0;const n=A().getClient();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&gr({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:s,showDialog:i,dialogOptions:a}=this.props;cs(o=>{if(eu(E.version)&&mn(t)){const u=new Error(t.message);u.name=`React ErrorBoundary ${u.name}`,u.stack=n,nu(t,u)}r&&r(o,t,n),o.addEventProcessor(u=>($t(u,{handled:!1}),u));const c=os(t,{contexts:{react:{componentStack:n}}});s&&s(t,n,c),i&&(this._lastEventId=c,this._openFallbackReportDialog&&gr({...a,eventId:c})),this.setState({error:t,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(Rr)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,E.isValidElement(s)?s:(t&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const ru=Hc;(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&qc();gt.accessToken=$s;let su=class extends E.PureComponent{constructor(n){super(n);nt(this,"initMap",()=>{const{mapRef:n}=this.props,{lng:r,lat:s,zoom:i}=this.state,a=new gt.Map({container:this.mapContainer.current,style:"mapbox://styles/mapbox/streets-v11",center:[r,s],zoom:i,minZoom:10,maxZoom:18});a.dragRotate.disable(),a.touchZoomRotate.disableRotation(),a.on("move",()=>{this.setState({lng:a.getCenter().lng.toFixed(4),lat:a.getCenter().lat.toFixed(4),zoom:a.getZoom().toFixed(2)})}),n.current=a});nt(this,"centerMapOnInput",()=>{const{inputLocation:n,mapRef:r}=this.props;r.current.flyTo({center:[n.lng,n.lat],zoom:12,pitch:0,bearing:0,duration:500,essential:!0})});nt(this,"callFnIfMapLoaded",n=>{const{mapRef:r}=this.props;r.current._loaded?n():r.current.on("load",n)});nt(this,"renderMapData",()=>{const{busData:n,selectedBus:r,selectedTab:s,userLocation:i,inputLocation:a,mapRef:o,liveBusData:c,setLiveBusData:u}=this.props;this.callFnIfMapLoaded(()=>{o.current.addSource("stops",Pn(n,s)),o.current.addLayer({id:"stops",source:"stops",...xs,filter:!0}),o.current.addSource("routes",$n(n)),o.current.addLayer({id:"routes",source:"routes",...Gs}),o.current.addLayer({id:"routes-highlighted",source:"routes",...Ms,filter:["==","name",r||""]}),Dt(o,c,u,void 0,void 0),this.initLocationMarkers()}),i&&this.userLocationMarker.setLngLat(i),a&&(this.inputLocationMarker.setLngLat(a),this.centerMapOnInput())});nt(this,"initLocationMarkers",()=>{const{mapRef:n}=this.props,r=document.createElement("div");r.className="user-location-indicator",this.userLocationMarker=new gt.Marker(r).setLngLat({lat:0,lng:0}).addTo(n.current);const s=document.createElement("div");s.className="input-location-indicator",this.inputLocationMarker=new gt.Marker(s).setLngLat({lat:0,lng:0}).addTo(n.current)});nt(this,"addMapEvents",()=>{const{mapRef:n}=this.props,r=new gt.Popup({closeButton:!1,closeOnClick:!1});n.current.on("mouseenter","stops",s=>{n.current.getCanvas().style.cursor="pointer";const i=s.features[0].geometry.coordinates.slice(),a=s.features[0].properties.name;for(;Math.abs(s.lngLat.lng-i[0])>180;)i[0]+=s.lngLat.lng>i[0]?360:-360;r.setLngLat(i).setHTML(a).addTo(n.current)}),n.current.on("click","stops",s=>{const{setSelectedStop:i}=this.props,a=s.features[0],{name:o}=a.properties;i(o)}),n.current.on("mouseleave","stops",()=>{n.current.getCanvas().style.cursor="",r.remove()}),n.current.on("mouseenter","routes",s=>{const{selectedBus:i}=this.props;n.current.getCanvas().style.cursor="pointer";const a=s.features[0],{name:o}=a.properties;n.current.setFilter("routes-highlighted",["==","name",o||i||""])}),n.current.on("click","routes",s=>{const{selectedBus:i,setSelectedBus:a,setSelectedStop:o}=this.props,c=s.features[0],{name:u}=c.properties;if(i&&i!==u){const d=`${i}_down_intermediate_stops`,f=`${i}_up_intermediate_stops`;n.current.getLayer(d)&&n.current.removeLayer(d),n.current.getSource(d)&&n.current.removeSource(d),n.current.getLayer(f)&&n.current.removeLayer(f),n.current.getSource(f)&&n.current.removeSource(f)}a(u)}),n.current.on("mouseleave","routes",()=>{const{selectedBus:s}=this.props;n.current.getCanvas().style.cursor="",n.current.setFilter("routes-highlighted",["==","name",s||""])})});nt(this,"refreshMapData",()=>{const{busData:n,selectedTab:r,mapRef:s}=this.props,i=s.current.getSource("routes"),a=s.current.getSource("stops");i.setData($n(n).data),a.setData(Pn(n,r).data)});this.state={lat:et.majestic.loc[0],lng:et.majestic.loc[1],zoom:11,supported:gt.supported()},this.mapContainer=E.createRef()}componentDidMount(){var r;const{mapRef:n}=this.props;this.state.supported&&(this.initMap(),(r=n.current)==null||r.on("load",()=>{this.renderMapData(),this.addMapEvents()}))}componentDidUpdate(n,r,s){const{userLocation:i,inputLocation:a,selectedBus:o,selectedStop:c,selectedTab:u,mapRef:d}=this.props,{userLocation:f,selectedBus:_,selectedStop:h,selectedTab:g,inputLocation:y}=n;if(this.state.supported){if(g!==u&&this.callFnIfMapLoaded(this.refreshMapData),this.userLocationMarker||this.initLocationMarkers(),i&&!f){const S=document.createElement("div");S.className="location-indicator",this.userLocationMarker.setLngLat(i)}if(a&&!y){const S=document.createElement("div");S.className="input-location-indicator",this.inputLocationMarker.setLngLat(a),this.callFnIfMapLoaded(this.centerMapOnInput)}if(o!==_&&this.callFnIfMapLoaded(()=>{if(d.current.setFilter("routes-highlighted",["==","name",o||""]),o&&d.current.getLayer("stops")){const S=u==="ta"?ct.to:ct.from,m=M.find(S,{name:o});d.current.setFilter("stops",["==","name",u==="ta"?m.start.name:m.end.name])}else d.current.setFilter("stops",!0)}),c!==h)if(c&&d.current.getLayer("routes")){const S=u==="ta"?ct.to:ct.from,m=K.filter(S,b=>{const k=[...Ee[b.routename].stops,b.start,b.end];return K.some(k,R=>R.name===c)}),T=K.map(m,b=>u==="ta"?b.start:b.end);d.current.setFilter("routes",["in","name",...K.map(m,"name")]),d.current.setFilter("stops",["in","name",...K.map(T,"name")])}else if(d.current.setFilter("routes",!0),o&&d.current.getLayer("stops")){const S=u==="ta"?ct.to:ct.from,m=M.find(S,{name:o});d.current.setFilter("stops",["==","name",u==="ta"?m.start.name:m.end.name])}else d.current.setFilter("stops",!0)}}componentWillUnmount(){const{mapRef:n}=this.props;n.current&&(n.current.getLayer("routes")&&(n.current.removeLayer("routes"),n.current.removeLayer("routes-highlighted"),n.current.removeSource("routes")),n.current.getLayer("stops")&&(n.current.removeLayer("stops"),n.current.removeSource("stops")),n.current.getLayer("vehicles")&&(n.current.removeLayer("vehicles"),n.current.removeSource("vehicles")),n.current.remove())}render(){const{t:n}=this.props,{supported:r}=this.state;return r?E.createElement("div",{id:"map",ref:this.mapContainer,className:"map-container"}):E.createElement("div",{className:"center padding",id:"error-page"},E.createElement(L,{t:n,i18nKey:"deviceMapSupport"}),E.createElement("br",null),E.createElement(L,{t:n,i18nKey:"ensureUpToDate"}))}};const iu=ht()(su);var ks={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var a=typeof i;if(a==="string"||a==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var o=n.apply(null,i);o&&r.push(o)}}else if(a==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ks);var au=ks.exports;const Os=Ys(au),ou="/assets/icon-tab-arrow-bf86dcea.svg",cu="/assets/icon-call-62de2272.svg",uu=({highlighted:e})=>l.createElement("svg",{width:"10",height:"12",viewBox:"0 0 10 12",className:"route-item-icon"},l.createElement("path",{fill:e?"#ffffff":"#000000",d:"M72.75,32h-7.5A1.268,1.268,0,0,0,64,33.286v8.571a1.3,1.3,0,0,0,.417.957V43.3a.687.687,0,0,0,.677.7h.729a.687.687,0,0,0,.677-.7v-.161h5V43.3a.687.687,0,0,0,.677.7h.729a.687.687,0,0,0,.677-.7v-.489A1.3,1.3,0,0,0,74,41.857V33.286A1.268,1.268,0,0,0,72.75,32Zm-6.576,9.852a.829.829,0,0,1-.842-.482.875.875,0,0,1,.162-.977.816.816,0,0,1,.949-.167.862.862,0,0,1,.468.866A.846.846,0,0,1,66.174,41.852Zm2.305-3H65.25a.423.423,0,0,1-.417-.429V35a.423.423,0,0,1,.417-.429h3.229a.106.106,0,0,1,.1.107V38.75A.106.106,0,0,1,68.479,38.857ZM69,33.714H65.262a.43.43,0,0,1-.428-.407.436.436,0,0,1,.114-.317.411.411,0,0,1,.3-.133h7.488a.43.43,0,0,1,.428.407.436.436,0,0,1-.114.317.411.411,0,0,1-.3.133Zm.521.857H72.75a.423.423,0,0,1,.417.429v3.429a.423.423,0,0,1-.417.429H69.521a.106.106,0,0,1-.1-.107V34.679A.106.106,0,0,1,69.521,34.571Zm1.567,6.522a.862.862,0,0,1,.468-.866.816.816,0,0,1,.949.167.875.875,0,0,1,.162.977.829.829,0,0,1-.842.482A.846.846,0,0,1,71.088,41.093Z",transform:"translate(-64 -32)"})),du=({busDetails:e,highlighted:t,setSelectedBus:n,toAirport:r,t:s})=>{const{name:i,start:a,end:o,routename:c}=e,u=kr[c];return K.size(u)===0?null:l.createElement("div",{className:`route-item bus-${i} ${t?"highlighted":""}`},l.createElement("div",{className:"route-item-header",onClick:()=>n(i)},l.createElement(uu,{highlighted:t}),l.createElement("div",{className:"route-item-bus-name"},i),l.createElement("div",{className:"route-item-bus-route"},l.createElement("span",{className:"text-light"},l.createElement(L,{t:s,i18nKey:"from"}))," ",l.createElement(L,{t:s,i18nKey:r?a.name:et.airport.name}),l.createElement("br",null),l.createElement("span",{className:"text-light"},l.createElement(L,{t:s,i18nKey:"to"}))," ",l.createElement(L,{t:s,i18nKey:r?et.airport.name:o.name}))))},Ir=ht()(du),lu=({highlightedSuggestion:e,suggestedBusDetails:t,setSelectedBus:n,selectedBus:r,selectedTab:s,currentTime:i,suggestedBus:a,sortedTabData:o,t:c})=>l.createElement(l.Fragment,null,e&&l.createElement(l.Fragment,null,l.createElement("h4",{className:"mb-4"},l.createElement(L,{t:c,i18nKey:"Suggested bus"})),l.createElement(Ir,{busDetails:t,setSelectedBus:n,toAirport:s==="ta",currentTime:i})),l.createElement("h4",{className:"mb-4"},l.createElement(L,{t:c,i18nKey:a?"All Buses":"Routes and Schedules"})),o.map(u=>l.createElement(Ir,{key:u.name,busDetails:u,selectedBus:r,setSelectedBus:n,toAirport:s==="ta",currentTime:i}))),fu=ht()(lu),pu="/assets/icon-bus-side-blue-948e6368.svg",_u=({msm:e,currentTime:t,selected:n,index:r,setSelectedTimeIndex:s})=>{const{hours:i,minutes:a}=ye(e);return l.createElement("div",{className:`route-item-time ${e<t?"disabled":""} ${n?"selected":""}`,onClick:()=>s(r)},St(i),":",St(a))},hu="/assets/icon-stop-destination-b1b3fb29.svg",mu="/assets/icon-bus-stop-map-30e92732.svg",gu="/assets/icon-stop-source-8df1be3f.svg",Eu="/assets/icon-collapse-chevron-e24ae4d4.svg",yu="/assets/icon-open-link-387f1079.svg",As="/assets/icon-bus-stop-b4feabca.svg",Su="/assets/icon-bus-live-23641b09.svg",Tu=({liveBusDetails:e,mapRef:t,refreshFunction:n})=>{const{regno:r,refresh:s,lat:i,long:a}=e;return l.createElement("div",{onClick:()=>t.current.panTo([a,i]),className:"sel-bus-stop-row "},l.createElement("img",{src:Su,alt:"",className:"sel-bus-live-icon"}),l.createElement("div",{className:"sel-bus-stop-row-text"},r))},bu=({stopDetails:e,totalDistance:t,timingsData:n,currentTime:r,selectedTimeIndex:s,setSelectedTimeIndex:i,setSelectedStop:a,busData:o,mapRef:c,refresh:u})=>{const d=e.distance===0,f=e.distance===t,[_,h]=E.useState(d||f);let g=mu;d?g=gu:f&&(g=hu);const y=e.distance/t;let S=null;if(s!==null&&n[s]){const m=n[s],T=m.start+M.floor(y*m.duration);S=ye(T)}return l.createElement("div",{className:`sel-bus-stop-row-container ${d?"start":""} ${f?"end":""} ${f||d?"":"intermediate"}`},l.createElement("div",{onClick:()=>h(!_),className:`sel-bus-stop-row ${_?"expanded":""}`},l.createElement("img",{src:g,alt:"",className:d||f?"sel-bus-stop-icon":"sel-bus-stop-icon-small"}),l.createElement("div",{className:"sel-bus-stop-row-text"},e.name),S&&l.createElement("span",{className:"sel-bus-stop-row-selected-time"},St(S.hours),":",St(S.minutes)),l.createElement("img",{src:Eu,alt:"",className:`sel-bus-stop-chevron ${_?"expanded":""}`})),_&&l.createElement("div",{className:"sel-bus-stop-expanded-content"},e.name!==et.airport.name&&l.createElement("button",{className:"btn-stop-all-buses",onClick:()=>a(e.name)},l.createElement("img",{src:As,alt:""}),"View all buses through this stop"),l.createElement("a",{className:"route-item-location",href:`https://www.google.com/maps/search/?api=1&query=${e.loc[0]},${e.loc[1]}`,target:"_blank"},"Open in Google maps",l.createElement("img",{src:yu,alt:"Open"})),n.map((m,T)=>l.createElement(_u,{selected:T===s,index:T,setSelectedTimeIndex:i,key:m.start,msm:m.start+M.floor(y*m.duration),currentTime:r}))),o&&o.map(m=>l.createElement(Tu,{key:m.regno,liveBusDetails:m,mapRef:c,refreshFunction:u})))},ze=ht()(bu),Ls=({fill:e})=>l.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"icon-back-arrow"},l.createElement("path",{d:"M19.9999 11V13H7.99991L13.4999 18.5L12.0799 19.92L4.15991 12L12.0799 4.07996L13.4999 5.49996L7.99991 11H19.9999Z",fill:e||"black"})),vu=({setSelectedBus:e,selectedBus:t,setSelectedStop:n,currentTime:r,selectedTabData:s,toAirport:i,t:a,mapRef:o,liveBusData:c,setLiveBusData:u})=>{const[d,f]=E.useState(null),[_,h]=E.useState(0),g=v=>{o.current._loaded?v():o.current.on("load",v)},y=new gt.Popup({closeButton:!1,closeOnClick:!1}),S=v=>{o.current.getCanvas().style.cursor="pointer";const I=v.features[0].geometry.coordinates.slice(),q=v.features[0].properties.name;for(;Math.abs(v.lngLat.lng-I[0])>180;)I[0]+=v.lngLat.lng>I[0]?360:-360;y.setLngLat(I).setHTML(q).addTo(o.current)},m=v=>{const I=v.features[0],{name:q}=I.properties;n(q)},T=()=>{o.current.getCanvas().style.cursor="",y.remove()},b=()=>{const v=o.current;v&&!v.getLayer(G)&&!v.getSource(G)&&(v.addSource(G,Or(V)),v.addLayer({id:G,source:G,...Ar}),v.on("mouseenter",G,S),o.current.on("click",G,m),v.on("mouseleave",G,T))};E.useEffect(()=>{Dt(o,c,u,R)},[t]),E.useEffect(()=>{b();const v=setInterval(()=>h(_+1),3e4);return()=>{clearInterval(v);const I=o.current;I&&(I.off("mouseenter",G,S),I.off("click",G,m),I.off("mouseleave",G,T),I._canvas&&(T(),I.getLayer(G)&&I.removeLayer(G),I.getSource(G)&&(I==null||I.removeSource(G))))}},[o.current]),E.useEffect(()=>{K.find(s,{name:t})||e(null)},[s,t]);const k=K.find(s,{name:t});if(!k)return null;const{name:R,start:W,end:j,routename:O}=k,Q=kr[O],{stops:V,totalDistance:$}=Ee[O],x=i?W.name:et.airport.name,tt=i?et.airport.name:j.name,G=`${t}_${i?"up":"down"}_intermediate_stops`;g(b);const It=c||{};(!c||!c[O]||!It[O])&&(It[O]={});const B=()=>{c&&c[O]?Date.now()-c[O].pollDate>3e4&&Dt(o,c,u,R,O):Dt(o,c,u,R,O)};return B(),l.createElement(l.Fragment,null,l.createElement("button",{className:"sel-bus-back",onClick:()=>e(null)},l.createElement(Ls,{fill:"#666666"}),"Back to all buses"),l.createElement("div",{className:"sel-bus-title"},l.createElement("img",{src:pu,alt:""}),l.createElement("span",{className:"sel-but-title-name"},R)),l.createElement("div",{className:"sel-bus-from-to"},l.createElement("span",{className:"text-light"},l.createElement(L,{t:a,i18nKey:"from"}))," ",l.createElement(L,{t:a,i18nKey:x}),l.createElement("br",null),l.createElement("span",{className:"text-light"},l.createElement(L,{t:a,i18nKey:"to"}))," ",l.createElement(L,{t:a,i18nKey:tt})),l.createElement("h3",{className:"mb-2 sel-bus-stops-heading"},l.createElement(L,{t:a,i18nKey:"Stops & buses on route "})),l.createElement("div",{id:"sel-bus-stops-list-container"},l.createElement(ze,{key:x,stopDetails:{distance:0,loc:W.loc,name:x,name_kn:x},setSelectedStop:n,totalDistance:$,timingsData:Q,currentTime:r,selectedTimeIndex:d,setSelectedTimeIndex:f,busData:It[O][x],mapRef:o,refresh:B}),V.map(v=>l.createElement(ze,{key:v.name,stopDetails:v,setSelectedStop:n,totalDistance:$,timingsData:Q,currentTime:r,selectedTimeIndex:d,setSelectedTimeIndex:f,busData:It[O][v.name],mapRef:o,refresh:B})),l.createElement(ze,{key:tt,stopDetails:{distance:$,loc:j.loc,name:tt,name_kn:tt},setSelectedStop:n,totalDistance:$,timingsData:Q,currentTime:r,selectedTimeIndex:d,setSelectedTimeIndex:f,busData:It[O][tt],mapRef:o,refresh:B})))},Ru=ht()(vu),Iu={"KIA-10 DOWN":[{duration:105,start:450},{duration:100,start:690},{duration:105,start:810},{duration:100,start:840},{duration:105,start:1020},{duration:100,start:1140},{duration:90,start:1320}],"KIA-10 UP":[{duration:90,start:330},{duration:105,start:570},{duration:100,start:690},{duration:105,start:885},{duration:105,start:1005},{duration:105,start:1185}],"KIA-14 DOWN":[{duration:105,start:25},{duration:110,start:80},{duration:110,start:140},{duration:110,start:200},{duration:110,start:250},{duration:110,start:290},{duration:110,start:320},{duration:115,start:350},{duration:115,start:380},{duration:110,start:410},{duration:110,start:440},{duration:115,start:470},{duration:110,start:500},{duration:115,start:530},{duration:115,start:570},{duration:110,start:610},{duration:110,start:650},{duration:110,start:690},{duration:110,start:780},{duration:110,start:820},{duration:110,start:860},{duration:115,start:890},{duration:115,start:920},{duration:115,start:950},{duration:115,start:990},{duration:115,start:1030},{duration:115,start:1060},{duration:115,start:1090},{duration:115,start:1120},{duration:115,start:1150},{duration:110,start:1180},{duration:110,start:1210},{duration:105,start:1240},{duration:90,start:1270},{duration:115,start:1300},{duration:90,start:1330}],"KIA-14 UP":[{duration:100,start:95},{duration:100,start:210},{duration:100,start:240},{duration:110,start:260},{duration:110,start:280},{duration:110,start:310},{duration:110,start:340},{duration:110,start:370},{duration:115,start:400},{duration:100,start:420},{duration:105,start:440},{duration:115,start:470},{duration:115,start:490},{duration:110,start:520},{duration:115,start:550},{duration:110,start:580},{duration:115,start:610},{duration:110,start:640},{duration:110,start:670},{duration:110,start:700},{duration:110,start:730},{duration:105,start:755},{duration:110,start:810},{duration:115,start:860},{duration:115,start:910},{duration:115,start:950},{duration:110,start:980},{duration:110,start:1010},{duration:115,start:1040},{duration:115,start:1070},{duration:115,start:1100},{duration:115,start:1130},{duration:110,start:1160},{duration:110,start:1200},{duration:110,start:1240},{duration:100,start:1270},{duration:110,start:1300}],"KIA-15 DOWN":[{duration:100,start:375},{duration:105,start:435},{duration:100,start:495},{duration:100,start:555},{duration:100,start:615},{duration:100,start:675},{duration:100,start:735},{duration:100,start:795},{duration:100,start:945},{duration:100,start:1005},{duration:100,start:1065},{duration:100,start:1125}],"KIA-15 UP":[{duration:100,start:255},{duration:100,start:315},{duration:100,start:375},{duration:100,start:435},{duration:100,start:460},{duration:100,start:495},{duration:105,start:555},{duration:110,start:615},{duration:100,start:675},{duration:100,start:705},{duration:100,start:810},{duration:100,start:870},{duration:100,start:930},{duration:100,start:990},{duration:100,start:1035},{duration:100,start:1060},{duration:100,start:1110},{duration:100,start:1170},{duration:100,start:1230},{duration:100,start:1290}],"KIA-15A DOWN":[{duration:110,start:580},{duration:110,start:850},{duration:110,start:1165},{duration:115,start:1205},{duration:120,start:1245},{duration:120,start:1290}],"KIA-17 DOWN":[{duration:120,start:545},{duration:120,start:1130}],"KIA-17 UP":[{duration:120,start:690},{duration:120,start:1270}],"KIA-4 DOWN":[{duration:105,start:240},{duration:115,start:300},{duration:100,start:330},{duration:115,start:360},{duration:115,start:405},{duration:110,start:440},{duration:105,start:510},{duration:105,start:900},{duration:100,start:960},{duration:110,start:990},{duration:115,start:1020},{duration:115,start:1080},{duration:115,start:1110},{duration:110,start:1140},{duration:105,start:1170},{duration:110,start:1200},{duration:105,start:1230},{duration:105,start:1260},{duration:95,start:1315}],"KIA-4 UP":[{duration:90,start:180},{duration:90,start:240},{duration:100,start:300},{duration:100,start:330},{duration:105,start:360},{duration:105,start:390},{duration:115,start:420},{duration:110,start:450},{duration:115,start:480},{duration:115,start:540},{duration:115,start:600},{duration:115,start:630},{duration:115,start:690},{duration:115,start:1020},{duration:115,start:1065},{duration:105,start:1140},{duration:115,start:1170},{duration:110,start:1200},{duration:105,start:1270},{duration:100,start:1330}],"KIA-4A DOWN":[{duration:115,start:5},{duration:110,start:90},{duration:120,start:420},{duration:135,start:480},{duration:130,start:540},{duration:130,start:570},{duration:120,start:600},{duration:120,start:660},{duration:120,start:720},{duration:120,start:750},{duration:115,start:810},{duration:130,start:860}],"KIA-4A UP":[{duration:120,start:735},{duration:120,start:760},{duration:120,start:815},{duration:130,start:855},{duration:125,start:870},{duration:120,start:940},{duration:125,start:970},{duration:115,start:1040},{duration:115,start:1090},{duration:120,start:1110}],"KIA-5 DOWN":[{duration:105,start:120},{duration:105,start:180},{duration:105,start:360},{duration:105,start:580},{duration:110,start:600},{duration:105,start:840},{duration:105,start:870},{duration:110,start:960},{duration:105,start:1140},{duration:105,start:1200},{duration:110,start:1230},{duration:105,start:1300}],"KIA-5 UP":[{duration:110,start:5},{duration:105,start:60},{duration:105,start:240},{duration:110,start:480},{duration:105,start:720},{duration:105,start:750},{duration:110,start:825},{duration:105,start:930},{duration:105,start:1005},{duration:105,start:1065},{duration:110,start:1095},{duration:105,start:1140},{duration:105,start:1170}],"KIA-5D DOWN":[{duration:120,start:300},{duration:135,start:1060}],"KIA-5D UP":[{duration:130,start:430},{duration:140,start:1200}],"KIA-6 DOWN":[{duration:115,start:60},{duration:115,start:125},{duration:115,start:180},{duration:120,start:390},{duration:130,start:450},{duration:130,start:525},{duration:130,start:590},{duration:130,start:630},{duration:130,start:690},{duration:135,start:875},{duration:120,start:930},{duration:120,start:975},{duration:120,start:1050},{duration:130,start:1095},{duration:130,start:1155},{duration:110,start:1245}],"KIA-6 UP":[{duration:115,start:300},{duration:130,start:360},{duration:130,start:405},{duration:130,start:470},{duration:130,start:540},{duration:135,start:720},{duration:130,start:960},{duration:130,start:1005},{duration:130,start:1050},{duration:120,start:1080},{duration:115,start:1170},{duration:120,start:1230},{duration:120,start:1290}],"KIA-6A DOWN":[{duration:115,start:345},{duration:115,start:465},{duration:115,start:840},{duration:115,start:890}],"KIA-6A UP":[{duration:115,start:210},{duration:115,start:330},{duration:115,start:660},{duration:115,start:730},{duration:115,start:990},{duration:115,start:1110}],"KIA-6W UP":[{duration:114,start:771},{duration:109,start:836},{duration:114,start:891}],"KIA-7 DOWN":[{duration:110,start:45},{duration:110,start:480},{duration:115,start:580},{duration:115,start:640},{duration:115,start:740},{duration:110,start:840},{duration:110,start:900},{duration:115,start:1090},{duration:115,start:1165},{duration:115,start:1230}],"KIA-7 UP":[{duration:110,start:365},{duration:115,start:410},{duration:110,start:510},{duration:110,start:595},{duration:115,start:710},{duration:115,start:760},{duration:110,start:960},{duration:115,start:1035},{duration:115,start:1100},{duration:110,start:1210},{duration:110,start:1295}],"KIA-7A DOWN":[{duration:105,start:120},{duration:105,start:180},{duration:110,start:360},{duration:110,start:630},{duration:110,start:960},{duration:100,start:1220},{duration:105,start:1315}],"KIA-7A UP":[{duration:105,start:60},{duration:105,start:240},{duration:110,start:500},{duration:110,start:830},{duration:110,start:1085},{duration:110,start:1145},{duration:110,start:1225}],"KIA-8 DOWN":[],"KIA-8 UP":[{duration:117,start:163},{duration:117,start:163},{duration:136,start:204},{duration:141,start:239},{duration:131,start:514},{duration:131,start:539},{duration:117,start:683},{duration:127,start:753},{duration:122,start:823},{duration:146,start:934},{duration:146,start:934},{duration:117,start:1013},{duration:136,start:1044},{duration:117,start:1298}],"KIA-8A DOWN":[{duration:110,start:150},{duration:110,start:340},{duration:110,start:380},{duration:115,start:900},{duration:115,start:1185}],"KIA-8A UP":[{duration:105,start:220},{duration:115,start:265},{duration:110,start:475},{duration:115,start:635},{duration:130,start:695},{duration:110,start:1e3},{duration:115,start:1030}],"KIA-8C DOWN":[{duration:180,start:240},{duration:180,start:930}],"KIA-8C UP":[{duration:180,start:460},{duration:180,start:1140}],"KIA-8D DOWN":[],"KIA-8D UP":[],"KIA-8E DOWN":[{duration:140,start:790}],"KIA-8E UP":[{duration:120,start:250},{duration:135,start:945}],"KIA-8EW DOWN":[{duration:115,start:120}],"KIA-9 DOWN":[{duration:65,start:10},{duration:65,start:50},{duration:70,start:70},{duration:70,start:90},{duration:60,start:110},{duration:70,start:130},{duration:70,start:150},{duration:70,start:170},{duration:70,start:190},{duration:70,start:220},{duration:70,start:240},{duration:65,start:260},{duration:70,start:280},{duration:70,start:300},{duration:70,start:320},{duration:70,start:340},{duration:70,start:360},{duration:70,start:400},{duration:75,start:435},{duration:85,start:450},{duration:85,start:465},{duration:85,start:480},{duration:85,start:495},{duration:85,start:510},{duration:85,start:540},{duration:85,start:585},{duration:85,start:610},{duration:80,start:620},{duration:80,start:630},{duration:75,start:640},{duration:85,start:670},{duration:75,start:685},{duration:75,start:700},{duration:80,start:715},{duration:75,start:730},{duration:75,start:745},{duration:70,start:775},{duration:80,start:790},{duration:75,start:805},{duration:75,start:835},{duration:75,start:850},{duration:80,start:865},{duration:80,start:880},{duration:60,start:910},{duration:85,start:925},{duration:75,start:960},{duration:80,start:980},{duration:85,start:1e3},{duration:85,start:1020},{duration:85,start:1040},{duration:85,start:1060},{duration:80,start:1100},{duration:85,start:1120},{duration:60,start:1160},{duration:80,start:1175},{duration:70,start:1205},{duration:75,start:1220},{duration:85,start:1235},{duration:70,start:1250},{duration:75,start:1265},{duration:75,start:1295},{duration:75,start:1310},{duration:70,start:1355},{duration:60,start:1370}],"KIA-9 UP":[{duration:65,start:5},{duration:70,start:25},{duration:70,start:50},{duration:70,start:80},{duration:70,start:100},{duration:70,start:120},{duration:70,start:140},{duration:70,start:160},{duration:70,start:180},{duration:70,start:220},{duration:65,start:240},{duration:70,start:260},{duration:70,start:280},{duration:70,start:340},{duration:60,start:360},{duration:85,start:375},{duration:75,start:390},{duration:80,start:405},{duration:85,start:425},{duration:85,start:445},{duration:85,start:495},{duration:80,start:525},{duration:75,start:540},{duration:80,start:555},{duration:85,start:570},{duration:85,start:585},{duration:85,start:600},{duration:85,start:620},{duration:85,start:640},{duration:85,start:655},{duration:85,start:690},{duration:60,start:705},{duration:75,start:720},{duration:80,start:760},{duration:80,start:800},{duration:75,start:810},{duration:80,start:820},{duration:75,start:830},{duration:75,start:840},{duration:80,start:855},{duration:75,start:870},{duration:75,start:885},{duration:85,start:915},{duration:85,start:930},{duration:80,start:945},{duration:75,start:955},{duration:85,start:975},{duration:85,start:1005},{duration:85,start:1020},{duration:80,start:1035},{duration:85,start:1065},{duration:80,start:1090},{duration:85,start:1100},{duration:85,start:1115},{duration:85,start:1130},{duration:85,start:1140},{duration:80,start:1155},{duration:80,start:1170},{duration:80,start:1200},{duration:80,start:1215},{duration:80,start:1230},{duration:75,start:1260},{duration:60,start:1275},{duration:65,start:1290},{duration:75,start:1305},{duration:80,start:1320},{duration:65,start:1340},{duration:70,start:1360}],"KIA-9H DOWN":[{duration:55,start:360},{duration:55,start:390},{duration:60,start:590},{duration:55,start:950}],"KIA-9H UP":[{duration:55,start:520},{duration:55,start:700},{duration:55,start:700},{duration:60,start:810},{duration:55,start:1085}]},Ve="/assets/icon-sort-b34d5b96.svg",Nu=({selectedBus:e,selectedStop:t,selectedTab:n,setSelectedStop:r,mapRef:s})=>{const i=n==="ta"?"UP":"DOWN",[a,o]=E.useState("startTime"),[c,u]=E.useState(1),[d,f]=E.useState([]),_=`${e}_${i}_selected_stop`,h=g=>{a===g?u(c*-1):o(g)};return E.useEffect(()=>{const g=s.current;return g?((m=>{s.current._loaded?m():s.current.on("load",m)})(()=>{const m=K.union(...K.values(K.mapValues(Ee,"stops")),K.values(et));g.addSource(_,Or([K.find(m,{name:t})])),g.addLayer({id:_,source:_,...Ar})}),()=>{g&&g._canvas&&(g.getLayer(_)&&g.removeLayer(_),g.getSource(_)&&g.removeSource(_))}):void 0},[s.current]),E.useEffect(()=>{const g=[];M.each(Ee,({stops:S,totalDistance:m},T)=>{if(M.includes(T,i)){const b=T.split(" ")[0],k=M.find(i==="UP"?ct.to:ct.from,{routename:T});let R={};k&&(i==="UP"?R={distance:0,name:k.start.name}:R={distance:m,name:k.end.name});const W=[...S,R],j=M.find(W,{name:t});if(j){const O=M.uniqBy(Iu[T],V=>`${V.start},${V.duration}`),{distance:Q}=j;M.each(O,({duration:V,start:$})=>{const x=Math.floor(V*Q/m);i==="UP"?g.push({busName:b,startTime:$+x,journeyMinutes:V-x,endTime:$+V}):g.push({busName:b,startTime:$,journeyMinutes:x,endTime:$+x})})}}});const y=M.sortBy(g,[a]);c<0&&M.reverse(y),f(y)},[a,c,n]),l.createElement(l.Fragment,null,l.createElement("button",{className:"sel-bus-back",onClick:()=>r(null)},l.createElement(Ls,{fill:"#666666"}),"Back to ",e||"all buses"),l.createElement("h3",{id:"selected-stop-heading"},l.createElement("img",{src:As,alt:""}),t),l.createElement("table",{id:"bus-stop-timings-table",cellSpacing:0},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{onClick:()=>h("busName")},l.createElement("div",{className:`selected-stop-table-header ${c>0?"":"reverse"}`},"Bus",a==="busName"&&l.createElement("img",{src:Ve,alt:""}))),l.createElement("th",{onClick:()=>h("startTime")},l.createElement("div",{className:`selected-stop-table-header ${c>0?"":"reverse"}`},i==="UP"?"Stop":"Airport"," timing",a==="startTime"&&l.createElement("img",{src:Ve,alt:""}))),l.createElement("th",{onClick:()=>h("endTime")},l.createElement("div",{className:`selected-stop-table-header ${c>0?"":"reverse"}`},"Reach ",i==="UP"?"airport":"stop",a==="endTime"&&l.createElement("img",{src:Ve,alt:""}))))),l.createElement("tbody",null,d.map(({busName:g,startTime:y,endTime:S})=>{const m=ye(y),T=ye(S);return l.createElement("tr",{key:`${g}-${y}`},l.createElement("td",null,g),l.createElement("td",null,St(m.hours),":",St(m.minutes)),l.createElement("td",null,St(T.hours),":",St(T.minutes)))}))))},jt=55,Du=90,lt=200,Nr=e=>{let[t,n]=[0,0];return e.clientX?(t=e.clientX,n=e.clientY):e.touches&&(t=e.touches[0].clientX,n=e.touches[0].clientY),[t,n]};class wu extends l.PureComponent{constructor(n){super(n);nt(this,"onPointerDown",n=>{if(window.innerWidth>999)return;const[r,s]=Nr(n);this.mouseTime=performance.now(),this.setState({x:r,y:s})});nt(this,"onPointerMove",n=>{if(n.stopPropagation(),this.state.x===null)return;const[r,s]=Nr(n);this.setState(({move:i})=>({move:Math.max(i+s-this.state.y,-window.innerHeight+jt),y:s}))});nt(this,"onPointerUp",()=>{if(this.state.x===null)return;if(this.setState({x:null,y:null}),performance.now()-this.mouseTime<150&&this.state.move===0){this.setState({move:-lt});return}this.state.move<-lt-100?this.setState({move:-window.innerHeight+jt}):this.state.move<-(lt*.5)?this.setState({move:-lt}):this.setState({move:0})});this.state={x:null,y:null,move:0,currentTime:xn(),resized:0,updateInterval:null},this.mouseTime=0,this.secondInterval=null}componentDidMount(){this.secondInterval=setInterval(()=>{this.setState({currentTime:xn()})},1e4),window.addEventListener("mousemove",this.onPointerMove,{passive:!0}),window.addEventListener("touchmove",this.onPointerMove,{passive:!0}),window.addEventListener("mouseup",this.onPointerUp,{passive:!0}),window.addEventListener("touchend",this.onPointerUp,{passive:!0}),this.state.updateInterval=setInterval(()=>Dt(this.props.mapRef,this.props.liveBusData,this.props.setLiveBusData,void 0),3e4)}componentWillUnmount(){this.updateInterval&&clearInterval(this.updateInterval),clearInterval(this.secondInterval),window.removeEventListener("mousemove",this.onPointerMove,{passive:!0}),window.removeEventListener("touchmove",this.onPointerMove,{passive:!0}),window.removeEventListener("mouseup",this.onPointerUp,{passive:!0}),window.removeEventListener("touchend",this.onPointerUp,{passive:!0})}componentDidUpdate(n,r,s){const{selectedBus:i,bodyHeight:a}=this.props,{selectedBus:o,bodyHeight:c}=n,{move:u,updateInterval:d}=this.state,f=c?a-c:0;if(this.setState({move:u<-(lt+200)?u-f:u}),!i&&i!==o&&!d){Dt(this.props.mapRef,this.props.liveBusData,this.props.setLiveBusData,void 0);const _=setInterval(()=>Dt(this.props.mapRef,this.props.liveBusData,this.props.setLiveBusData,void 0),3e4);this.setState({updateInterval:_})}if(!o&&o!==i&&d&&(clearInterval(d),this.setState({updateInterval:null})),i&&i!==o){const _=document.querySelector(`.bus-${i}`);if(Fs(),!_)return;const h=_.getBoundingClientRect();h.top>=window.innerHeight+u&&h.top<=window.innerHeight-100||_.scrollIntoView({behavior:"smooth"})}i!==o&&u!==-lt&&this.setState({move:-lt})}render(){const{bodyHeight:n,selectedTab:r,setSelectedTab:s,sortedTabData:i,selectedBus:a,selectedStop:o,setSelectedStop:c,highlightedSuggestion:u,setSelectedBus:d,suggestedBus:f,suggestedBusDetails:_,t:h,mapRef:g,liveBusData:y,setLiveBusData:S}=this.props,{currentTime:m,move:T}=this.state;return l.createElement("div",{id:"sidebar",style:{top:`${n-jt+T}px`,height:`${T<-(lt+200)?-T+jt:-T+jt+Du}px`},className:Os({"sharp-corners":T<-lt})},l.createElement("div",{id:"sidebar-drag-indicator"}),l.createElement("div",{id:"sidebar-header",className:"padding",onMouseDown:this.onPointerDown,onTouchStart:this.onPointerDown},l.createElement("div",{id:"logo-banner"},l.createElement(L,{t:h,i18nKey:"BENGALURU AIRPORT BUS"}),l.createElement("div",{id:"tab-selection",onMouseDown:b=>{b.stopPropagation()},onClick:b=>{b.stopPropagation(),s(r==="ta"?"fa":"ta")}},l.createElement("img",{src:ou,id:"tab-arrow",className:r,alt:""}),l.createElement(L,{t:h,i18nKey:K.find(Xe,{id:r}).text})))),l.createElement("div",{id:"sidebar-content",className:"padding"},o&&l.createElement(Nu,{key:o,selectedBus:a,selectedTab:r,selectedStop:o,setSelectedStop:c,mapRef:g,liveBusData:y,setLiveBusData:S}),!o&&a&&l.createElement(Ru,{setSelectedBus:d,selectedBus:a,setSelectedStop:c,currentTime:m,selectedTabData:i,toAirport:r==="ta",mapRef:g,liveBusData:y,setLiveBusData:S}),!o&&!a&&l.createElement(fu,{highlightedSuggestion:u,suggestedBusDetails:_,setSelectedBus:d,selectedBus:a,selectedTab:r,currentTime:m,suggestedBus:f,sortedTabData:i})),l.createElement("div",{className:"padding text"},l.createElement("h4",{className:"mb-2"},l.createElement(L,{t:h,i18nKey:"BMTC Vayu Vajra Helpline"})),l.createElement("a",{href:`tel:${Gn}`,id:"sidebar-tel"},l.createElement("img",{src:cu,alt:""}),Gn)))}}const ku=ht()(wu),Ou=({googleScriptStatus:e,loadGoogleMapsScript:t,inputLocation:n,setCurrentScreen:r,inputLocationMetadata:s,t:i})=>l.createElement("div",{id:"li-wrapper"},e===Et.LOADING&&l.createElement("div",{id:"search-loading",className:"left"},l.createElement("div",{className:"spin"}),l.createElement(L,{t:i,i18nKey:"Loading Google maps"}),"..."),e===Et.ERROR&&l.createElement("div",{id:"search-loading",className:"left"},"Error occurred loading Google API"," ",l.createElement("button",{className:"btn primary ml-2",onClick:t},"Try again")),e===Et.SUCCESS&&l.createElement("input",{id:"li-input",className:Os({empty:!n}),placeholder:n?s.name||`${n.lat}, ${n.lng}`:i("Select a starting point"),onClick:()=>r(st.LOCATION_TEXT)})),Au=ht()(Ou),Lu=({googleScriptStatus:e,loadGoogleMapsScript:t,selectedTab:n,setSelectedTab:r,userLocation:s,inputLocation:i,setCurrentScreen:a,inputLocationMetadata:o,setLang:c,bodyHeight:u})=>{const d=E.useRef(),[f,_]=E.useState(null),[h,g]=E.useState(null),[y,S]=E.useState(null),[m,T]=E.useState(null),b=n==="ta"?ct.to:ct.from,k=Hs(b,i),R=K.find(b,{name:k});return E.useEffect(()=>{k&&S(k)},[k,i]),E.createElement(E.Fragment,null,E.createElement(ku,{mapRef:d,suggestedBusDetails:R,selectedTab:n,setSelectedTab:r,highlightedSuggestion:y,selectedBus:f,setSelectedBus:_,selectedStop:h,setSelectedStop:g,suggestedBus:k,sortedTabData:b,bodyHeight:u,liveBusData:m,setLiveBusData:T}),E.createElement(iu,{mapRef:d,inputLocation:i,busData:b,userLocation:s,selectedBus:f,setSelectedBus:_,selectedStop:h,setSelectedStop:g,selectedTab:n,liveBusData:m,setLiveBusData:T}),E.createElement(Au,{googleScriptStatus:e,loadGoogleMapsScript:t,setCurrentScreen:a,inputLocation:i,inputLocationMetadata:o}),E.createElement(Ws,{setLang:c}))};function Re(){return Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}var Dr=function(e){var t=E.useRef(e);return t.current=e,t},Bu=function(e,t){var n;return function(){for(var r=this,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];n!==null&&(clearTimeout(n),n=null),n=setTimeout(function(){return e.apply(r,i)},t)}},Uu=" use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",Cu=function(t){var n=t===void 0?{}:t,r=n.requestOptions,s=n.debounce,i=s===void 0?200:s,a=n.cache,o=a===void 0?24*60*60:a,c=n.cacheKey,u=c===void 0?"upa":c,d=n.googleMaps,f=n.callbackName,_=n.defaultValue,h=_===void 0?"":_,g=n.initOnMount,y=g===void 0?!0:g,S=E.useState(!1),m=S[0],T=S[1],b=E.useState(h),k=b[0],R=b[1],W=E.useState({loading:!1,status:"",data:[]}),j=W[0],O=W[1],Q=E.useRef(),V=Dr(r),$=Dr(d),x=E.useCallback(function(){var B;if(!Q.current){var v=window,I=v.google,q=$.current,dt=(q==null?void 0:q.places)||(I==null||(B=I.maps)==null?void 0:B.places);if(!dt){console.error(Uu);return}Q.current=new dt.AutocompleteService,T(!0)}},[$]),tt=E.useCallback(function(){O({loading:!1,status:"",data:[]})},[]),Cn=E.useCallback(function(B){B===void 0&&(B=u);try{sessionStorage.removeItem(B)}catch{}},[u]),G=E.useCallback(Bu(function(B){var v;if(!B){tt();return}O(function(q){return Re({},q,{loading:!0})});var I={};try{I=JSON.parse(sessionStorage.getItem(u)||"{}")}catch{}if(o&&(I=Object.keys(I).reduce(function(q,dt){return I[dt].maxAge-Date.now()>=0&&(q[dt]=I[dt]),q},{}),I[B])){O({loading:!1,status:"OK",data:I[B].data});return}(v=Q.current)==null||v.getPlacePredictions(Re({},V.current,{input:B}),function(q,dt){if(O({loading:!1,status:dt,data:q||[]}),o&&dt==="OK"){I[B]={data:q,maxAge:Date.now()+o*1e3};try{sessionStorage.setItem(u,JSON.stringify(I))}catch{}}})},i),[o,u,tt,V]),It=E.useCallback(function(B,v){v===void 0&&(v=!0),R(B),Q.current&&v&&G(B)},[G]);return E.useEffect(function(){if(!y)return function(){return null};var B=window,v=B.google;return!$.current&&!(v!=null&&v.maps)&&f?window[f]=x:x(),function(){window[f]&&delete window[f]}},[f,$,x,y]),{ready:m,value:k,suggestions:j,setValue:It,clearSuggestions:tt,clearCache:Cn,init:x}},wr=" use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.",Pu=function(t){var n=new window.google.maps.places.PlacesService(document.createElement("div"));return t.placeId?new Promise(function(r,s){n.getDetails(t,function(i,a){a!=="OK"&&s(a),r(i)})}):(console.error(wr),Promise.reject(wr))};const Bs="/assets/icon-back-45521716.svg",$u="/assets/icon-cross-1d92296a.svg",xu="/assets/icon-grey-pin-db6d1f1b.svg",Gu="/assets/logo-google-a33a47a2.svg",Mu=5,Yu=({selectedTab:e,setCurrentScreen:t,setInputLocation:n,t:r,bodyHeight:s})=>{const[i,a]=E.useState([]),[o,c]=E.useState(!1),{suggestions:u={},value:d="",setValue:f,clearSuggestions:_}=Cu({requestOptions:{locationBias:new google.maps.LatLngBounds(new google.maps.LatLng(12.789201188889859,77.39869888194104),new google.maps.LatLng(13.230422232290332,77.78540557324757)),componentRestrictions:{country:"in"}},debounce:1e3});E.useEffect(()=>{const m=M.takeRight(M.sortBy(JSON.parse(_e.getItem("locations")||"[]"),T=>T.time||0),Mu);M.reverse(m),a(m)},[]);const h=()=>{c(!1)},g=M.debounce(h,1e3);E.useEffect(()=>{d&&(c(!0),g())},[d]);const y=async m=>{const{geometry:{location:{lat:T,lng:b}},name:k}=await Pu({placeId:m});Lr(m,k,[T(),b()]),n({lat:T(),lng:b()}),t(st.LOCATION_MAP)},S=o||u.loading;return l.createElement("div",{id:"search-page",style:{height:`${s}px`}},l.createElement("div",{id:"search-heading"},l.createElement("button",{id:"search-back",onClick:()=>{_(),t(st.INITIAL)}},l.createElement("img",{src:Bs,alt:"Back"})),l.createElement("h3",{id:"search-heading-text"},l.createElement(L,{t:r,i18nKey:e==="ta"?"Enter starting point":"Enter destination"}))),l.createElement("div",{id:"search-input-wrapper"},l.createElement("input",{id:"search-input",placeholder:`${r("Search")}...`,value:d,onChange:m=>f(m.target.value),autoFocus:!0}),(d||"").length>0&&l.createElement("button",{id:"search-clear",onClick:()=>f("")},l.createElement("img",{src:$u,alt:"Cancel"}))),l.createElement("div",{id:"search-results"},!d&&i.length>0&&l.createElement("div",null,l.createElement("h4",{className:"mb-2 plr mt-2"},l.createElement(L,{t:r,i18nKey:"Recent locations"})),i.map(m=>l.createElement("div",{key:m.placeId,className:"search-result-item",onClick:()=>{n({lat:m.location[0],lng:m.location[1]}),t(st.INITIAL)}},l.createElement("p",{className:"search-result-main-text"},m.name)))),S&&l.createElement("div",{id:"search-loading"},l.createElement("div",{className:"spin"}),l.createElement(L,{t:r,i18nKey:"Loading"}),"..."),!S&&u.data.map(m=>l.createElement("div",{className:"search-result-item",key:m.place_id,onClick:()=>y(m.place_id)},l.createElement("p",{className:"search-result-main-text"},m.structured_formatting.main_text),l.createElement("p",{className:"search-result-secondary-text"},m.structured_formatting.secondary_text))),!S&&d&&u.data.length<1&&l.createElement("div",null,l.createElement(L,{t:r,i18nKey:"No results found"}))),l.createElement("div",{id:"search-powered-by"},"Powered by",l.createElement("img",{src:Gu,alt:"Google"})),l.createElement("div",{id:"search-footer"},l.createElement("button",{className:"search-footer-item",onClick:()=>t(st.LOCATION_MAP)},l.createElement("img",{src:xu,alt:""}),l.createElement(L,{t:r,i18nKey:"Locate on map"}))))},Fu=ht()(Yu),Hu="/assets/icon-marker-d8fd9f00.svg",ju=({selectedTab:e,inputLocation:t,setCurrentScreen:n,setInputLocation:r,t:s,bodyHeight:i})=>{const a=E.useRef(null),o=E.useRef(null),[c,u]=E.useState(16),[d,f]=E.useState(t||{lat:et.majestic.loc[0],lng:et.majestic.loc[1]});E.useEffect(()=>{o.current||(o.current=new gt.Map({container:a.current,style:"mapbox://styles/mapbox/streets-v12",center:[d.lng,d.lat],zoom:c}))});const _=()=>{const{lat:h,lng:g}=o.current.getCenter();r({lat:h,lng:g}),n(st.INITIAL)};return l.createElement("div",{id:"search-page",style:{height:`${i}px`}},l.createElement("div",{id:"search-heading"},l.createElement("button",{id:"search-back",onClick:()=>n(st.LOCATION_TEXT)},l.createElement("img",{src:Bs,alt:"Back"})),l.createElement("h3",{id:"search-heading-text"},l.createElement(L,{t:s,i18nKey:e==="ta"?"Adjust start location":"Adjust destination location"}))),l.createElement("div",{id:"search-map",ref:a},l.createElement("div",{id:"search-marker"},l.createElement("img",{src:Hu,alt:""}))),l.createElement("button",{id:"search-confirm-button",onClick:_},l.createElement(L,{t:s,i18nKey:"Confirm"})))},qu=ht()(ju),Ku="/assets/illustration-error-c197964d.svg",Wu=()=>l.createElement("div",{className:"center padding",id:"error-page"},l.createElement("img",{src:Ku,alt:""}),l.createElement("p",null,"We've been notified of the bug.",l.createElement("br",null),"Please give us sometime and we'll fix the issue"),l.createElement("button",{className:"btn primary",onClick:()=>window.location.reload()},"Reload page"));Mn&&Kc({dsn:Mn,integrations:[new ru],tracesSampleRate:.5});const zu=()=>{const[e,t]=E.useState(Et.INITIAL),[n,r]=E.useState(st.INITIAL),[s,i]=E.useState(null),[a,o]=E.useState(Xe[0].id),[c,u]=E.useState(null),[d,f]=E.useState(_e.getItem("lang")||qs[0].code),[_,h]=E.useState({name:"",placeId:"",location:[0,0]}),[g,y]=E.useState(se.PENDING),[S,m]=E.useState(null),T=()=>{navigator.geolocation.getCurrentPosition(R=>{const{latitude:W,longitude:j}=R.coords;Yn({latitude:W,longitude:j},{latitude:et.airport.loc[0],longitude:et.airport.loc[1]})<1e3?o(Xe[1].id):u({lat:W,lng:j}),m({lat:W,lng:j}),y(se.APPROVED)},R=>{R.code===1?y(se.DENIED):console.log(R)})},b=()=>{var R;i(((R=window.visualViewport)==null?void 0:R.height)||window.innerHeight)},k=async()=>{t(Et.LOADING);try{await new Nt({apiKey:Ks,version:"weekly",libraries:["places"]}).load(),t(Et.SUCCESS)}catch(R){console.log(R),t(Et.ERROR)}};return E.useEffect(()=>((window.visualViewport||window).addEventListener("resize",b),b(),k(),()=>{(window.visualViewport||window).removeEventListener("resize",b)}),[]),E.useEffect(()=>{_e.setItem("lang",d),document.documentElement.setAttribute("lang",d),zs.changeLanguage(d)},[d]),E.useEffect(()=>{e===Et.SUCCESS&&("geolocation"in navigator?T():y(se.UNAVAILABLE))},[e]),E.useEffect(()=>{if(!c)return;const R=JSON.parse(_e.getItem("locations")||"[]"),j=M.sortBy(M.map(R,O=>({...O,distance:Yn({latitude:c.lat,longitude:c.lng},{latitude:O.location[0],longitude:O.location[1]})})),"distance")[0];j&&j.distance<50?h(j):(async()=>{const{Geocoder:Q}=await google.maps.importLibrary("geocoding");new Q().geocode({location:c}).then(({results:$})=>{const{formatted_address:x,place_id:tt}=$[0]||{};Lr(tt,x,[c.lat,c.lng]),h({placeId:tt,name:x,location:[c.lat,c.lng]})}).catch($=>{console.log("Error"),console.log($)})})()},[c]),E.createElement(Un,{fallback:E.createElement(Wu,null)},E.createElement("div",{id:"app-container"},n===st.INITIAL&&E.createElement(Lu,{googleScriptStatus:e,loadGoogleMapsScript:k,userLocation:S,selectedTab:a,setSelectedTab:o,inputLocation:c,setCurrentScreen:r,inputLocationMetadata:_,lang:d,setLang:f,bodyHeight:s}),n===st.LOCATION_TEXT&&E.createElement(Fu,{selectedTab:a,setCurrentScreen:r,setInputLocation:u,bodyHeight:s}),n===st.LOCATION_MAP&&E.createElement(qu,{selectedTab:a,inputLocation:c,setInputLocation:u,setCurrentScreen:r,bodyHeight:s})))},Vu=js(document.getElementById("root"));Vu.render(E.createElement(zu,null))});export default Xu();
//# sourceMappingURL=main-1d2ae175.js.map
